<!DOCTYPE html>
<HTML lang = "en">
<HEAD>
  <meta charset="UTF-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">
  <title>Julia Basics For Data Wrangling and Computational Modeling</title>
  

  <script type="text/x-mathjax-config">
    MathJax.Hub.Config({
      tex2jax: {inlineMath: [['$','$'], ['\\(','\\)']]},
      TeX: { equationNumbers: { autoNumber: "AMS" } }
    });
  </script>

  <script type="text/javascript" async src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
  </script>

  
<style>
pre.hljl {
    border: 1px solid #ccc;
    margin: 5px;
    padding: 5px;
    overflow-x: auto;
    color: rgb(68,68,68); background-color: rgb(251,251,251); }
pre.hljl > span.hljl-t { }
pre.hljl > span.hljl-w { }
pre.hljl > span.hljl-e { }
pre.hljl > span.hljl-eB { }
pre.hljl > span.hljl-o { }
pre.hljl > span.hljl-k { color: rgb(148,91,176); font-weight: bold; }
pre.hljl > span.hljl-kc { color: rgb(59,151,46); font-style: italic; }
pre.hljl > span.hljl-kd { color: rgb(214,102,97); font-style: italic; }
pre.hljl > span.hljl-kn { color: rgb(148,91,176); font-weight: bold; }
pre.hljl > span.hljl-kp { color: rgb(148,91,176); font-weight: bold; }
pre.hljl > span.hljl-kr { color: rgb(148,91,176); font-weight: bold; }
pre.hljl > span.hljl-kt { color: rgb(148,91,176); font-weight: bold; }
pre.hljl > span.hljl-n { }
pre.hljl > span.hljl-na { }
pre.hljl > span.hljl-nb { }
pre.hljl > span.hljl-nbp { }
pre.hljl > span.hljl-nc { }
pre.hljl > span.hljl-ncB { }
pre.hljl > span.hljl-nd { color: rgb(214,102,97); }
pre.hljl > span.hljl-ne { }
pre.hljl > span.hljl-neB { }
pre.hljl > span.hljl-nf { color: rgb(66,102,213); }
pre.hljl > span.hljl-nfm { color: rgb(66,102,213); }
pre.hljl > span.hljl-np { }
pre.hljl > span.hljl-nl { }
pre.hljl > span.hljl-nn { }
pre.hljl > span.hljl-no { }
pre.hljl > span.hljl-nt { }
pre.hljl > span.hljl-nv { }
pre.hljl > span.hljl-nvc { }
pre.hljl > span.hljl-nvg { }
pre.hljl > span.hljl-nvi { }
pre.hljl > span.hljl-nvm { }
pre.hljl > span.hljl-l { }
pre.hljl > span.hljl-ld { color: rgb(148,91,176); font-style: italic; }
pre.hljl > span.hljl-s { color: rgb(201,61,57); }
pre.hljl > span.hljl-sa { color: rgb(201,61,57); }
pre.hljl > span.hljl-sb { color: rgb(201,61,57); }
pre.hljl > span.hljl-sc { color: rgb(201,61,57); }
pre.hljl > span.hljl-sd { color: rgb(201,61,57); }
pre.hljl > span.hljl-sdB { color: rgb(201,61,57); }
pre.hljl > span.hljl-sdC { color: rgb(201,61,57); }
pre.hljl > span.hljl-se { color: rgb(59,151,46); }
pre.hljl > span.hljl-sh { color: rgb(201,61,57); }
pre.hljl > span.hljl-si { }
pre.hljl > span.hljl-so { color: rgb(201,61,57); }
pre.hljl > span.hljl-sr { color: rgb(201,61,57); }
pre.hljl > span.hljl-ss { color: rgb(201,61,57); }
pre.hljl > span.hljl-ssB { color: rgb(201,61,57); }
pre.hljl > span.hljl-nB { color: rgb(59,151,46); }
pre.hljl > span.hljl-nbB { color: rgb(59,151,46); }
pre.hljl > span.hljl-nfB { color: rgb(59,151,46); }
pre.hljl > span.hljl-nh { color: rgb(59,151,46); }
pre.hljl > span.hljl-ni { color: rgb(59,151,46); }
pre.hljl > span.hljl-nil { color: rgb(59,151,46); }
pre.hljl > span.hljl-noB { color: rgb(59,151,46); }
pre.hljl > span.hljl-oB { color: rgb(102,102,102); font-weight: bold; }
pre.hljl > span.hljl-ow { color: rgb(102,102,102); font-weight: bold; }
pre.hljl > span.hljl-p { }
pre.hljl > span.hljl-c { color: rgb(153,153,119); font-style: italic; }
pre.hljl > span.hljl-ch { color: rgb(153,153,119); font-style: italic; }
pre.hljl > span.hljl-cm { color: rgb(153,153,119); font-style: italic; }
pre.hljl > span.hljl-cp { color: rgb(153,153,119); font-style: italic; }
pre.hljl > span.hljl-cpB { color: rgb(153,153,119); font-style: italic; }
pre.hljl > span.hljl-cs { color: rgb(153,153,119); font-style: italic; }
pre.hljl > span.hljl-csB { color: rgb(153,153,119); font-style: italic; }
pre.hljl > span.hljl-g { }
pre.hljl > span.hljl-gd { }
pre.hljl > span.hljl-ge { }
pre.hljl > span.hljl-geB { }
pre.hljl > span.hljl-gh { }
pre.hljl > span.hljl-gi { }
pre.hljl > span.hljl-go { }
pre.hljl > span.hljl-gp { }
pre.hljl > span.hljl-gs { }
pre.hljl > span.hljl-gsB { }
pre.hljl > span.hljl-gt { }
</style>



  <style type="text/css">
  @font-face {
  font-style: normal;
  font-weight: 300;
}
@font-face {
  font-style: normal;
  font-weight: 400;
}
@font-face {
  font-style: normal;
  font-weight: 600;
}
html {
  font-family: sans-serif; /* 1 */
  -ms-text-size-adjust: 100%; /* 2 */
  -webkit-text-size-adjust: 100%; /* 2 */
}
body {
  margin: 0;
}
article,
aside,
details,
figcaption,
figure,
footer,
header,
hgroup,
main,
menu,
nav,
section,
summary {
  display: block;
}
audio,
canvas,
progress,
video {
  display: inline-block; /* 1 */
  vertical-align: baseline; /* 2 */
}
audio:not([controls]) {
  display: none;
  height: 0;
}
[hidden],
template {
  display: none;
}
a:active,
a:hover {
  outline: 0;
}
abbr[title] {
  border-bottom: 1px dotted;
}
b,
strong {
  font-weight: bold;
}
dfn {
  font-style: italic;
}
h1 {
  font-size: 2em;
  margin: 0.67em 0;
}
mark {
  background: #ff0;
  color: #000;
}
small {
  font-size: 80%;
}
sub,
sup {
  font-size: 75%;
  line-height: 0;
  position: relative;
  vertical-align: baseline;
}
sup {
  top: -0.5em;
}
sub {
  bottom: -0.25em;
}
img {
  border: 0;
}
svg:not(:root) {
  overflow: hidden;
}
figure {
  margin: 1em 40px;
}
hr {
  -moz-box-sizing: content-box;
  box-sizing: content-box;
  height: 0;
}
pre {
  overflow: auto;
}
code,
kbd,
pre,
samp {
  font-family: monospace, monospace;
  font-size: 1em;
}
button,
input,
optgroup,
select,
textarea {
  color: inherit; /* 1 */
  font: inherit; /* 2 */
  margin: 0; /* 3 */
}
button {
  overflow: visible;
}
button,
select {
  text-transform: none;
}
button,
html input[type="button"], /* 1 */
input[type="reset"],
input[type="submit"] {
  -webkit-appearance: button; /* 2 */
  cursor: pointer; /* 3 */
}
button[disabled],
html input[disabled] {
  cursor: default;
}
button::-moz-focus-inner,
input::-moz-focus-inner {
  border: 0;
  padding: 0;
}
input {
  line-height: normal;
}
input[type="checkbox"],
input[type="radio"] {
  box-sizing: border-box; /* 1 */
  padding: 0; /* 2 */
}
input[type="number"]::-webkit-inner-spin-button,
input[type="number"]::-webkit-outer-spin-button {
  height: auto;
}
input[type="search"] {
  -webkit-appearance: textfield; /* 1 */
  -moz-box-sizing: content-box;
  -webkit-box-sizing: content-box; /* 2 */
  box-sizing: content-box;
}
input[type="search"]::-webkit-search-cancel-button,
input[type="search"]::-webkit-search-decoration {
  -webkit-appearance: none;
}
fieldset {
  border: 1px solid #c0c0c0;
  margin: 0 2px;
  padding: 0.35em 0.625em 0.75em;
}
legend {
  border: 0; /* 1 */
  padding: 0; /* 2 */
}
textarea {
  overflow: auto;
}
optgroup {
  font-weight: bold;
}
table {
  font-family: monospace, monospace;
  font-size : 0.8em;
  border-collapse: collapse;
  border-spacing: 0;
}
td,
th {
  padding: 0;
}
thead th {
    border-bottom: 1px solid black;
    background-color: white;
}
tr:nth-child(odd){
  background-color: rgb(248,248,248);
}


/*
* Skeleton V2.0.4
* Copyright 2014, Dave Gamache
* www.getskeleton.com
* Free to use under the MIT license.
* http://www.opensource.org/licenses/mit-license.php
* 12/29/2014
*/
.container {
  position: relative;
  width: 100%;
  max-width: 960px;
  margin: 0 auto;
  padding: 0 20px;
  box-sizing: border-box; }
.column,
.columns {
  width: 100%;
  float: left;
  box-sizing: border-box; }
@media (min-width: 400px) {
  .container {
    width: 85%;
    padding: 0; }
}
@media (min-width: 550px) {
  .container {
    width: 80%; }
  .column,
  .columns {
    margin-left: 4%; }
  .column:first-child,
  .columns:first-child {
    margin-left: 0; }

  .one.column,
  .one.columns                    { width: 4.66666666667%; }
  .two.columns                    { width: 13.3333333333%; }
  .three.columns                  { width: 22%;            }
  .four.columns                   { width: 30.6666666667%; }
  .five.columns                   { width: 39.3333333333%; }
  .six.columns                    { width: 48%;            }
  .seven.columns                  { width: 56.6666666667%; }
  .eight.columns                  { width: 65.3333333333%; }
  .nine.columns                   { width: 74.0%;          }
  .ten.columns                    { width: 82.6666666667%; }
  .eleven.columns                 { width: 91.3333333333%; }
  .twelve.columns                 { width: 100%; margin-left: 0; }

  .one-third.column               { width: 30.6666666667%; }
  .two-thirds.column              { width: 65.3333333333%; }

  .one-half.column                { width: 48%; }

  /* Offsets */
  .offset-by-one.column,
  .offset-by-one.columns          { margin-left: 8.66666666667%; }
  .offset-by-two.column,
  .offset-by-two.columns          { margin-left: 17.3333333333%; }
  .offset-by-three.column,
  .offset-by-three.columns        { margin-left: 26%;            }
  .offset-by-four.column,
  .offset-by-four.columns         { margin-left: 34.6666666667%; }
  .offset-by-five.column,
  .offset-by-five.columns         { margin-left: 43.3333333333%; }
  .offset-by-six.column,
  .offset-by-six.columns          { margin-left: 52%;            }
  .offset-by-seven.column,
  .offset-by-seven.columns        { margin-left: 60.6666666667%; }
  .offset-by-eight.column,
  .offset-by-eight.columns        { margin-left: 69.3333333333%; }
  .offset-by-nine.column,
  .offset-by-nine.columns         { margin-left: 78.0%;          }
  .offset-by-ten.column,
  .offset-by-ten.columns          { margin-left: 86.6666666667%; }
  .offset-by-eleven.column,
  .offset-by-eleven.columns       { margin-left: 95.3333333333%; }

  .offset-by-one-third.column,
  .offset-by-one-third.columns    { margin-left: 34.6666666667%; }
  .offset-by-two-thirds.column,
  .offset-by-two-thirds.columns   { margin-left: 69.3333333333%; }

  .offset-by-one-half.column,
  .offset-by-one-half.columns     { margin-left: 52%; }

}
html {
  font-size: 62.5%; }
body {
  font-size: 1.5em; /* currently ems cause chrome bug misinterpreting rems on body element */
  line-height: 1.6;
  font-weight: 400;
  font-family: "Raleway", "HelveticaNeue", "Helvetica Neue", Helvetica, Arial, sans-serif;
  color: #222; }
h1, h2, h3, h4, h5, h6 {
  margin-top: 0;
  margin-bottom: 2rem;
  font-weight: 300; }
h1 { font-size: 3.6rem; line-height: 1.2;  letter-spacing: -.1rem;}
h2 { font-size: 3.4rem; line-height: 1.25; letter-spacing: -.1rem; }
h3 { font-size: 3.2rem; line-height: 1.3;  letter-spacing: -.1rem; }
h4 { font-size: 2.8rem; line-height: 1.35; letter-spacing: -.08rem; }
h5 { font-size: 2.4rem; line-height: 1.5;  letter-spacing: -.05rem; }
h6 { font-size: 1.5rem; line-height: 1.6;  letter-spacing: 0; }

p {
  margin-top: 0; }
a {
  color: #1EAEDB; }
a:hover {
  color: #0FA0CE; }
.button,
button,
input[type="submit"],
input[type="reset"],
input[type="button"] {
  display: inline-block;
  height: 38px;
  padding: 0 30px;
  color: #555;
  text-align: center;
  font-size: 11px;
  font-weight: 600;
  line-height: 38px;
  letter-spacing: .1rem;
  text-transform: uppercase;
  text-decoration: none;
  white-space: nowrap;
  background-color: transparent;
  border-radius: 4px;
  border: 1px solid #bbb;
  cursor: pointer;
  box-sizing: border-box; }
.button:hover,
button:hover,
input[type="submit"]:hover,
input[type="reset"]:hover,
input[type="button"]:hover,
.button:focus,
button:focus,
input[type="submit"]:focus,
input[type="reset"]:focus,
input[type="button"]:focus {
  color: #333;
  border-color: #888;
  outline: 0; }
.button.button-primary,
button.button-primary,
input[type="submit"].button-primary,
input[type="reset"].button-primary,
input[type="button"].button-primary {
  color: #FFF;
  background-color: #33C3F0;
  border-color: #33C3F0; }
.button.button-primary:hover,
button.button-primary:hover,
input[type="submit"].button-primary:hover,
input[type="reset"].button-primary:hover,
input[type="button"].button-primary:hover,
.button.button-primary:focus,
button.button-primary:focus,
input[type="submit"].button-primary:focus,
input[type="reset"].button-primary:focus,
input[type="button"].button-primary:focus {
  color: #FFF;
  background-color: #1EAEDB;
  border-color: #1EAEDB; }
input[type="email"],
input[type="number"],
input[type="search"],
input[type="text"],
input[type="tel"],
input[type="url"],
input[type="password"],
textarea,
select {
  height: 38px;
  padding: 6px 10px; /* The 6px vertically centers text on FF, ignored by Webkit */
  background-color: #fff;
  border: 1px solid #D1D1D1;
  border-radius: 4px;
  box-shadow: none;
  box-sizing: border-box; }
/* Removes awkward default styles on some inputs for iOS */
input[type="email"],
input[type="number"],
input[type="search"],
input[type="text"],
input[type="tel"],
input[type="url"],
input[type="password"],
textarea {
  -webkit-appearance: none;
     -moz-appearance: none;
          appearance: none; }
textarea {
  min-height: 65px;
  padding-top: 6px;
  padding-bottom: 6px; }
input[type="email"]:focus,
input[type="number"]:focus,
input[type="search"]:focus,
input[type="text"]:focus,
input[type="tel"]:focus,
input[type="url"]:focus,
input[type="password"]:focus,
textarea:focus,
select:focus {
  border: 1px solid #33C3F0;
  outline: 0; }
label,
legend {
  display: block;
  margin-bottom: .5rem;
  font-weight: 600; }
fieldset {
  padding: 0;
  border-width: 0; }
input[type="checkbox"],
input[type="radio"] {
  display: inline; }
label > .label-body {
  display: inline-block;
  margin-left: .5rem;
  font-weight: normal; }
ul {
  list-style: circle; }
ol {
  list-style: decimal; }
ul ul,
ul ol,
ol ol,
ol ul {
  margin: 1.5rem 0 1.5rem 3rem;
  font-size: 90%; }
li > p {margin : 0;}
th,
td {
  padding: 12px 15px;
  text-align: left;
  border-bottom: 1px solid #E1E1E1; }
th:first-child,
td:first-child {
  padding-left: 0; }
th:last-child,
td:last-child {
  padding-right: 0; }
button,
.button {
  margin-bottom: 1rem; }
input,
textarea,
select,
fieldset {
  margin-bottom: 1.5rem; }
pre,
blockquote,
dl,
figure,
table,
p,
ul,
ol,
form {
  margin-bottom: 1.0rem; }
.u-full-width {
  width: 100%;
  box-sizing: border-box; }
.u-max-full-width {
  max-width: 100%;
  box-sizing: border-box; }
.u-pull-right {
  float: right; }
.u-pull-left {
  float: left; }
hr {
  margin-top: 3rem;
  margin-bottom: 3.5rem;
  border-width: 0;
  border-top: 1px solid #E1E1E1; }
.container:after,
.row:after,
.u-cf {
  content: "";
  display: table;
  clear: both; }

pre {
  display: block;
  padding: 9.5px;
  margin: 0 0 10px;
  font-size: 13px;
  line-height: 1.42857143;
  word-break: break-all;
  word-wrap: break-word;
  border: 1px solid #ccc;
  border-radius: 4px;
}

pre.hljl {
  margin: 0 0 10px;
  display: block;
  background: #f5f5f5;
  border-radius: 4px;
  padding : 5px;
}

pre.output {
  background: #ffffff;
}

pre.code {
  background: #ffffff;
}

pre.julia-error {
  color : red
}

code,
kbd,
pre,
samp {
  font-family: Menlo, Monaco, Consolas, "Courier New", monospace;
  font-size: 13px;
}


@media (min-width: 400px) {}
@media (min-width: 550px) {}
@media (min-width: 750px) {}
@media (min-width: 1000px) {}
@media (min-width: 1200px) {}

h1.title {margin-top : 20px}
img {max-width : 100%}
div.title {text-align: center;}

  </style>



</HEAD>
  <BODY>
    <div class ="container">
      <div class = "row">
        <div class = "col-md-12 twelve columns">

          <div class="title">
            <h1 class="title">Julia Basics For Data Wrangling and Computational Modeling</h1>
            <h5>Christopher R. Dishop</h5>
            
          </div>

          <p>Common commands that I use for data analysis and simulation.</p>
<p>First, libraries and a data frame.</p>


<pre class='hljl'>
<span class='hljl-k'>using</span><span class='hljl-t'> </span><span class='hljl-n'>DataFrames</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-n'>DataFramesMeta</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-n'>Query</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-n'>Statistics</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-n'>CSV</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-n'>CSVFiles</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-n'>Distributions</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-n'>Random</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-n'>PrettyTables</span><span class='hljl-t'>

</span><span class='hljl-n'>df</span><span class='hljl-t'> </span><span class='hljl-oB'>=</span><span class='hljl-t'> </span><span class='hljl-nf'>DataFrame</span><span class='hljl-p'>(</span><span class='hljl-t'>
  </span><span class='hljl-n'>name</span><span class='hljl-t'> </span><span class='hljl-oB'>=</span><span class='hljl-t'> </span><span class='hljl-p'>[</span><span class='hljl-s'>&quot;josh&quot;</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-s'>&quot;adam&quot;</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-s'>&quot;jenny&quot;</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-s'>&quot;rory&quot;</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-s'>&quot;thomas&quot;</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-s'>&quot;bill&quot;</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-s'>&quot;sarah&quot;</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-s'>&quot;allie&quot;</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-s'>&quot;shannon&quot;</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-s'>&quot;cloe&quot;</span><span class='hljl-p'>],</span><span class='hljl-t'>
  </span><span class='hljl-n'>id</span><span class='hljl-t'> </span><span class='hljl-oB'>=</span><span class='hljl-t'> </span><span class='hljl-nf'>collect</span><span class='hljl-p'>(</span><span class='hljl-ni'>1</span><span class='hljl-oB'>:</span><span class='hljl-ni'>10</span><span class='hljl-p'>),</span><span class='hljl-t'>
  </span><span class='hljl-n'>satisfaction</span><span class='hljl-t'> </span><span class='hljl-oB'>=</span><span class='hljl-t'> </span><span class='hljl-p'>[</span><span class='hljl-ni'>2</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-ni'>4</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-ni'>5</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-ni'>1</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-ni'>3</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-ni'>3</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-ni'>3</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-ni'>2</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-ni'>4</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-ni'>5</span><span class='hljl-p'>],</span><span class='hljl-t'>
  </span><span class='hljl-n'>need_achievement</span><span class='hljl-t'> </span><span class='hljl-oB'>=</span><span class='hljl-t'> </span><span class='hljl-p'>[</span><span class='hljl-ni'>8</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-ni'>3</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-ni'>4</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-ni'>7</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-ni'>2</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-ni'>9</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-ni'>10</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-ni'>5</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-ni'>4</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-ni'>6</span><span class='hljl-p'>],</span><span class='hljl-t'>
  </span><span class='hljl-n'>fav_color</span><span class='hljl-t'> </span><span class='hljl-oB'>=</span><span class='hljl-t'> </span><span class='hljl-p'>[</span><span class='hljl-s'>&quot;red&quot;</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-s'>&quot;red&quot;</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-s'>&quot;green&quot;</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-s'>&quot;orange&quot;</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-s'>&quot;blue&quot;</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-s'>&quot;yellow&quot;</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-s'>&quot;purple&quot;</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-s'>&quot;orange&quot;</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-s'>&quot;silver&quot;</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-s'>&quot;blue&quot;</span><span class='hljl-p'>],</span><span class='hljl-t'>
  </span><span class='hljl-n'>number_of_kids</span><span class='hljl-t'> </span><span class='hljl-oB'>=</span><span class='hljl-t'> </span><span class='hljl-p'>[</span><span class='hljl-ni'>2</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-ni'>3</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-ni'>0</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-ni'>0</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-ni'>0</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-ni'>0</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-ni'>2</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-ni'>1</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-ni'>1</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-ni'>0</span><span class='hljl-p'>],</span><span class='hljl-t'>
  </span><span class='hljl-n'>instrument</span><span class='hljl-t'> </span><span class='hljl-oB'>=</span><span class='hljl-t'> </span><span class='hljl-p'>[</span><span class='hljl-s'>&quot;piano&quot;</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-s'>&quot;guitar&quot;</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-s'>&quot;none&quot;</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-s'>&quot;piano&quot;</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-s'>&quot;saxophone&quot;</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-s'>&quot;none&quot;</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-s'>&quot;none&quot;</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-s'>&quot;none&quot;</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-s'>&quot;none&quot;</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-s'>&quot;clarinet&quot;</span><span class='hljl-p'>],</span><span class='hljl-t'>
  </span><span class='hljl-n'>team_id</span><span class='hljl-t'> </span><span class='hljl-oB'>=</span><span class='hljl-t'> </span><span class='hljl-nf'>vcat</span><span class='hljl-p'>(</span><span class='hljl-t'>
                </span><span class='hljl-nf'>repeat</span><span class='hljl-p'>([</span><span class='hljl-s'>&quot;awesome&quot;</span><span class='hljl-p'>],</span><span class='hljl-t'> </span><span class='hljl-ni'>5</span><span class='hljl-p'>),</span><span class='hljl-t'>
                </span><span class='hljl-nf'>repeat</span><span class='hljl-p'>([</span><span class='hljl-s'>&quot;best&quot;</span><span class='hljl-p'>],</span><span class='hljl-t'> </span><span class='hljl-ni'>5</span><span class='hljl-p'>)</span><span class='hljl-t'>
                </span><span class='hljl-p'>),</span><span class='hljl-t'>
  </span><span class='hljl-n'>dyad_id</span><span class='hljl-t'> </span><span class='hljl-oB'>=</span><span class='hljl-t'> </span><span class='hljl-nf'>vcat</span><span class='hljl-p'>(</span><span class='hljl-t'>
                </span><span class='hljl-nf'>repeat</span><span class='hljl-p'>([</span><span class='hljl-s'>&quot;v&quot;</span><span class='hljl-p'>],</span><span class='hljl-t'> </span><span class='hljl-ni'>2</span><span class='hljl-p'>),</span><span class='hljl-t'>
                </span><span class='hljl-nf'>repeat</span><span class='hljl-p'>([</span><span class='hljl-s'>&quot;w&quot;</span><span class='hljl-p'>],</span><span class='hljl-t'> </span><span class='hljl-ni'>2</span><span class='hljl-p'>),</span><span class='hljl-t'>
                </span><span class='hljl-nf'>repeat</span><span class='hljl-p'>([</span><span class='hljl-s'>&quot;x&quot;</span><span class='hljl-p'>],</span><span class='hljl-t'> </span><span class='hljl-ni'>2</span><span class='hljl-p'>),</span><span class='hljl-t'>
                </span><span class='hljl-nf'>repeat</span><span class='hljl-p'>([</span><span class='hljl-s'>&quot;y&quot;</span><span class='hljl-p'>],</span><span class='hljl-t'> </span><span class='hljl-ni'>2</span><span class='hljl-p'>),</span><span class='hljl-t'>
                </span><span class='hljl-nf'>repeat</span><span class='hljl-p'>([</span><span class='hljl-s'>&quot;z&quot;</span><span class='hljl-p'>],</span><span class='hljl-t'> </span><span class='hljl-ni'>2</span><span class='hljl-p'>)</span><span class='hljl-t'>
                </span><span class='hljl-p'>),</span><span class='hljl-t'>
  </span><span class='hljl-n'>dyad_trust</span><span class='hljl-t'> </span><span class='hljl-oB'>=</span><span class='hljl-t'>   </span><span class='hljl-p'>[</span><span class='hljl-ni'>2</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-ni'>2</span><span class='hljl-p'>,</span><span class='hljl-t'>
                  </span><span class='hljl-ni'>5</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-ni'>5</span><span class='hljl-p'>,</span><span class='hljl-t'>
                  </span><span class='hljl-ni'>7</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-ni'>7</span><span class='hljl-p'>,</span><span class='hljl-t'>
                  </span><span class='hljl-ni'>8</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-ni'>8</span><span class='hljl-p'>,</span><span class='hljl-t'>
                  </span><span class='hljl-ni'>3</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-ni'>3</span><span class='hljl-p'>],</span><span class='hljl-t'>
  </span><span class='hljl-n'>team_performance</span><span class='hljl-t'> </span><span class='hljl-oB'>=</span><span class='hljl-t'> </span><span class='hljl-p'>[</span><span class='hljl-ni'>7</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-ni'>7</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-ni'>7</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-ni'>7</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-ni'>7</span><span class='hljl-p'>,</span><span class='hljl-t'>
                        </span><span class='hljl-ni'>4</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-ni'>4</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-ni'>4</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-ni'>4</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-ni'>4</span><span class='hljl-p'>],</span><span class='hljl-t'>
  </span><span class='hljl-n'>nation</span><span class='hljl-t'> </span><span class='hljl-oB'>=</span><span class='hljl-t'> </span><span class='hljl-nf'>repeat</span><span class='hljl-p'>([</span><span class='hljl-s'>&quot;united_states&quot;</span><span class='hljl-p'>],</span><span class='hljl-t'> </span><span class='hljl-ni'>10</span><span class='hljl-p'>),</span><span class='hljl-t'>
  </span><span class='hljl-n'>common_value</span><span class='hljl-t'> </span><span class='hljl-oB'>=</span><span class='hljl-t'> </span><span class='hljl-nf'>repeat</span><span class='hljl-p'>([</span><span class='hljl-ni'>3</span><span class='hljl-p'>],</span><span class='hljl-t'> </span><span class='hljl-ni'>10</span><span class='hljl-p'>)</span><span class='hljl-t'>

</span><span class='hljl-p'>)</span>
</pre>



<table class="data-frame"><thead><tr><th></th><th>name</th><th>id</th><th>satisfaction</th><th>need_achievement</th><th>fav_color</th><th>number_of_kids</th><th>instrument</th><th>team_id</th><th>dyad_id</th><th>dyad_trust</th><th>team_performance</th><th>nation</th><th>common_value</th></tr><tr><th></th><th>String</th><th>Int64</th><th>Int64</th><th>Int64</th><th>String</th><th>Int64</th><th>String</th><th>String</th><th>String</th><th>Int64</th><th>Int64</th><th>String</th><th>Int64</th></tr></thead><tbody><p>10 rows × 13 columns</p><tr><th>1</th><td>josh</td><td>1</td><td>2</td><td>8</td><td>red</td><td>2</td><td>piano</td><td>awesome</td><td>v</td><td>2</td><td>7</td><td>united_states</td><td>3</td></tr><tr><th>2</th><td>adam</td><td>2</td><td>4</td><td>3</td><td>red</td><td>3</td><td>guitar</td><td>awesome</td><td>v</td><td>2</td><td>7</td><td>united_states</td><td>3</td></tr><tr><th>3</th><td>jenny</td><td>3</td><td>5</td><td>4</td><td>green</td><td>0</td><td>none</td><td>awesome</td><td>w</td><td>5</td><td>7</td><td>united_states</td><td>3</td></tr><tr><th>4</th><td>rory</td><td>4</td><td>1</td><td>7</td><td>orange</td><td>0</td><td>piano</td><td>awesome</td><td>w</td><td>5</td><td>7</td><td>united_states</td><td>3</td></tr><tr><th>5</th><td>thomas</td><td>5</td><td>3</td><td>2</td><td>blue</td><td>0</td><td>saxophone</td><td>awesome</td><td>x</td><td>7</td><td>7</td><td>united_states</td><td>3</td></tr><tr><th>6</th><td>bill</td><td>6</td><td>3</td><td>9</td><td>yellow</td><td>0</td><td>none</td><td>best</td><td>x</td><td>7</td><td>4</td><td>united_states</td><td>3</td></tr><tr><th>7</th><td>sarah</td><td>7</td><td>3</td><td>10</td><td>purple</td><td>2</td><td>none</td><td>best</td><td>y</td><td>8</td><td>4</td><td>united_states</td><td>3</td></tr><tr><th>8</th><td>allie</td><td>8</td><td>2</td><td>5</td><td>orange</td><td>1</td><td>none</td><td>best</td><td>y</td><td>8</td><td>4</td><td>united_states</td><td>3</td></tr><tr><th>9</th><td>shannon</td><td>9</td><td>4</td><td>4</td><td>silver</td><td>1</td><td>none</td><td>best</td><td>z</td><td>3</td><td>4</td><td>united_states</td><td>3</td></tr><tr><th>10</th><td>cloe</td><td>10</td><td>5</td><td>6</td><td>blue</td><td>0</td><td>clarinet</td><td>best</td><td>z</td><td>3</td><td>4</td><td>united_states</td><td>3</td></tr></tbody></table>

<h2>Structure</h2>
<p>Identify characteristics about the data.</p>


<pre class='hljl'>
<span class='hljl-nf'>names</span><span class='hljl-p'>(</span><span class='hljl-n'>df</span><span class='hljl-p'>)</span><span class='hljl-t'>
</span><span class='hljl-nf'>size</span><span class='hljl-p'>(</span><span class='hljl-n'>df</span><span class='hljl-p'>)</span><span class='hljl-t'>
</span><span class='hljl-nf'>describe</span><span class='hljl-p'>(</span><span class='hljl-n'>df</span><span class='hljl-p'>)</span><span class='hljl-t'>
</span><span class='hljl-nf'>first</span><span class='hljl-p'>(</span><span class='hljl-n'>df</span><span class='hljl-p'>)</span><span class='hljl-t'>
</span><span class='hljl-nf'>last</span><span class='hljl-p'>(</span><span class='hljl-n'>df</span><span class='hljl-p'>)</span><span class='hljl-t'>
</span><span class='hljl-nf'>show</span><span class='hljl-p'>(</span><span class='hljl-n'>df</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-n'>allrows</span><span class='hljl-t'> </span><span class='hljl-oB'>=</span><span class='hljl-t'> </span><span class='hljl-kc'>true</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-n'>allcols</span><span class='hljl-t'> </span><span class='hljl-oB'>=</span><span class='hljl-t'> </span><span class='hljl-kc'>true</span><span class='hljl-p'>)</span>
</pre>


<pre class="output">
10×13 DataFrames.DataFrame
│ Row │ name    │ id    │ satisfaction │ need_achievement │ fav_color │
│     │ String  │ Int64 │ Int64        │ Int64            │ String    │
├─────┼─────────┼───────┼──────────────┼──────────────────┼───────────┤
│ 1   │ josh    │ 1     │ 2            │ 8                │ red       │
│ 2   │ adam    │ 2     │ 4            │ 3                │ red       │
│ 3   │ jenny   │ 3     │ 5            │ 4                │ green     │
│ 4   │ rory    │ 4     │ 1            │ 7                │ orange    │
│ 5   │ thomas  │ 5     │ 3            │ 2                │ blue      │
│ 6   │ bill    │ 6     │ 3            │ 9                │ yellow    │
│ 7   │ sarah   │ 7     │ 3            │ 10               │ purple    │
│ 8   │ allie   │ 8     │ 2            │ 5                │ orange    │
│ 9   │ shannon │ 9     │ 4            │ 4                │ silver    │
│ 10  │ cloe    │ 10    │ 5            │ 6                │ blue      │

│ Row │ number_of_kids │ instrument │ team_id │ dyad_id │ dyad_trust │
│     │ Int64          │ String     │ String  │ String  │ Int64      │
├─────┼────────────────┼────────────┼─────────┼─────────┼────────────┤
│ 1   │ 2              │ piano      │ awesome │ v       │ 2          │
│ 2   │ 3              │ guitar     │ awesome │ v       │ 2          │
│ 3   │ 0              │ none       │ awesome │ w       │ 5          │
│ 4   │ 0              │ piano      │ awesome │ w       │ 5          │
│ 5   │ 0              │ saxophone  │ awesome │ x       │ 7          │
│ 6   │ 0              │ none       │ best    │ x       │ 7          │
│ 7   │ 2              │ none       │ best    │ y       │ 8          │
│ 8   │ 1              │ none       │ best    │ y       │ 8          │
│ 9   │ 1              │ none       │ best    │ z       │ 3          │
│ 10  │ 0              │ clarinet   │ best    │ z       │ 3          │

│ Row │ team_performance │ nation        │ common_value │
│     │ Int64            │ String        │ Int64        │
├─────┼──────────────────┼───────────────┼──────────────┤
│ 1   │ 7                │ united_states │ 3            │
│ 2   │ 7                │ united_states │ 3            │
│ 3   │ 7                │ united_states │ 3            │
│ 4   │ 7                │ united_states │ 3            │
│ 5   │ 7                │ united_states │ 3            │
│ 6   │ 4                │ united_states │ 3            │
│ 7   │ 4                │ united_states │ 3            │
│ 8   │ 4                │ united_states │ 3            │
│ 9   │ 4                │ united_states │ 3            │
│ 10  │ 4                │ united_states │ 3            │
</pre>


<h2>Columns</h2>
<p>Create new columns, one documenting that everyone speaks english and another representing each individual&#39;s favorite season.</p>


<pre class='hljl'>
<span class='hljl-cs'># with base</span><span class='hljl-t'>
</span><span class='hljl-n'>df</span><span class='hljl-p'>[</span><span class='hljl-oB'>!</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-sc'>:language</span><span class='hljl-p'>]</span><span class='hljl-t'> </span><span class='hljl-oB'>=</span><span class='hljl-t'> </span><span class='hljl-nf'>repeat</span><span class='hljl-p'>([</span><span class='hljl-s'>&quot;english&quot;</span><span class='hljl-p'>],</span><span class='hljl-t'> </span><span class='hljl-ni'>10</span><span class='hljl-p'>)</span><span class='hljl-t'>

</span><span class='hljl-cs'># with data frames meta</span><span class='hljl-t'>
</span><span class='hljl-n'>df</span><span class='hljl-t'> </span><span class='hljl-oB'>=</span><span class='hljl-t'> </span><span class='hljl-nd'>@linq</span><span class='hljl-t'> </span><span class='hljl-n'>df</span><span class='hljl-t'> </span><span class='hljl-oB'>|&gt;</span><span class='hljl-t'>
    </span><span class='hljl-nf'>transform</span><span class='hljl-p'>(</span><span class='hljl-n'>fav_season</span><span class='hljl-t'> </span><span class='hljl-oB'>=</span><span class='hljl-t'> </span><span class='hljl-nf'>vcat</span><span class='hljl-p'>(</span><span class='hljl-t'>
                                </span><span class='hljl-nf'>repeat</span><span class='hljl-p'>([</span><span class='hljl-s'>&quot;summer&quot;</span><span class='hljl-p'>],</span><span class='hljl-t'> </span><span class='hljl-ni'>5</span><span class='hljl-p'>),</span><span class='hljl-t'>
                                </span><span class='hljl-nf'>repeat</span><span class='hljl-p'>([</span><span class='hljl-s'>&quot;winter&quot;</span><span class='hljl-p'>],</span><span class='hljl-t'> </span><span class='hljl-ni'>5</span><span class='hljl-p'>)</span><span class='hljl-t'>
    </span><span class='hljl-p'>))</span><span class='hljl-t'>


</span><span class='hljl-nd'>@pt</span><span class='hljl-t'> </span><span class='hljl-n'>df</span><span class='hljl-p'>[</span><span class='hljl-oB'>:</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-p'>[</span><span class='hljl-sc'>:team_performance</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-sc'>:language</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-sc'>:fav_season</span><span class='hljl-p'>]]</span>
</pre>


<pre class="output">
┌──────────────────┬──────────┬────────────┐
│ team_performance │ language │ fav_season │
│            Int64 │   String │     String │
├──────────────────┼──────────┼────────────┤
│                7 │  english │     summer │
│                7 │  english │     summer │
│                7 │  english │     summer │
│                7 │  english │     summer │
│                7 │  english │     summer │
│                4 │  english │     winter │
│                4 │  english │     winter │
│                4 │  english │     winter │
│                4 │  english │     winter │
│                4 │  english │     winter │
└──────────────────┴──────────┴────────────┘
</pre>


<p>Rename columns. Change &quot;satisfaction&quot; to &quot;job_sat&quot; and &quot;nation&quot; to &quot;country.&quot;</p>


<pre class='hljl'>
<span class='hljl-nf'>rename!</span><span class='hljl-p'>(</span><span class='hljl-n'>df</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-sc'>:satisfaction</span><span class='hljl-t'> </span><span class='hljl-oB'>=&gt;</span><span class='hljl-t'> </span><span class='hljl-sc'>:job_sat</span><span class='hljl-p'>)</span><span class='hljl-t'>

</span><span class='hljl-n'>df</span><span class='hljl-t'> </span><span class='hljl-oB'>=</span><span class='hljl-t'> </span><span class='hljl-n'>df</span><span class='hljl-t'> </span><span class='hljl-oB'>|&gt;</span><span class='hljl-t'> </span><span class='hljl-nd'>@rename</span><span class='hljl-p'>(</span><span class='hljl-sc'>:nation</span><span class='hljl-t'> </span><span class='hljl-oB'>=&gt;</span><span class='hljl-t'> </span><span class='hljl-sc'>:country</span><span class='hljl-p'>)</span><span class='hljl-t'> </span><span class='hljl-oB'>|&gt;</span><span class='hljl-t'> </span><span class='hljl-n'>DataFrame</span><span class='hljl-t'>

</span><span class='hljl-nd'>@pt</span><span class='hljl-t'> </span><span class='hljl-n'>df</span><span class='hljl-p'>[</span><span class='hljl-oB'>:</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-p'>[</span><span class='hljl-sc'>:job_sat</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-sc'>:country</span><span class='hljl-p'>]]</span>
</pre>


<pre class="output">
┌─────────┬───────────────┐
│ job_sat │       country │
│   Int64 │        String │
├─────────┼───────────────┤
│       2 │ united_states │
│       4 │ united_states │
│       5 │ united_states │
│       1 │ united_states │
│       3 │ united_states │
│       3 │ united_states │
│       3 │ united_states │
│       2 │ united_states │
│       4 │ united_states │
│       5 │ united_states │
└─────────┴───────────────┘
</pre>


<p>Reorder columns. Not easy to do unless you want to re-type every column name. Waiting for something like &quot;df &#61; df&#91;, &#91;:team.id, :country, rest.of.columns&#40;&#41;&#93;&quot; but that doesn&#39;t exist yet.</p>
<p>Pull out a single column, in one of many ways. The last implementation also demonstrates how to select columns.</p>


<pre class='hljl'>
<span class='hljl-n'>id_vec1</span><span class='hljl-t'> </span><span class='hljl-oB'>=</span><span class='hljl-t'> </span><span class='hljl-n'>df</span><span class='hljl-oB'>.</span><span class='hljl-n'>id</span><span class='hljl-t'>

</span><span class='hljl-n'>id_vec2</span><span class='hljl-t'> </span><span class='hljl-oB'>=</span><span class='hljl-t'> </span><span class='hljl-n'>df</span><span class='hljl-p'>[</span><span class='hljl-oB'>:</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-sc'>:id</span><span class='hljl-p'>]</span><span class='hljl-t'>

</span><span class='hljl-n'>id_vec3</span><span class='hljl-t'> </span><span class='hljl-oB'>=</span><span class='hljl-t'> </span><span class='hljl-nd'>@linq</span><span class='hljl-t'> </span><span class='hljl-n'>df</span><span class='hljl-t'> </span><span class='hljl-oB'>|&gt;</span><span class='hljl-t'>
        </span><span class='hljl-nf'>select</span><span class='hljl-p'>(</span><span class='hljl-sc'>:id</span><span class='hljl-p'>)</span><span class='hljl-t'>
</span><span class='hljl-n'>id_vec3</span><span class='hljl-t'> </span><span class='hljl-oB'>=</span><span class='hljl-t'> </span><span class='hljl-nf'>Vector</span><span class='hljl-p'>(</span><span class='hljl-n'>id_vec3</span><span class='hljl-oB'>.</span><span class='hljl-n'>id</span><span class='hljl-p'>)</span>
</pre>


<pre class="output">
10-element Array&#123;Int64,1&#125;:
  1
  2
  3
  4
  5
  6
  7
  8
  9
 10
</pre>


<p>Create new columns. The first standardizes the job satisfaction scores, whereas the second adds the trust and performance columns together to create a new variable.</p>


<pre class='hljl'>
<span class='hljl-n'>mean_jobsat</span><span class='hljl-t'> </span><span class='hljl-oB'>=</span><span class='hljl-t'> </span><span class='hljl-nfB'>2.5</span><span class='hljl-t'>

</span><span class='hljl-n'>df</span><span class='hljl-t'> </span><span class='hljl-oB'>=</span><span class='hljl-t'> </span><span class='hljl-nd'>@linq</span><span class='hljl-t'> </span><span class='hljl-n'>df</span><span class='hljl-t'> </span><span class='hljl-oB'>|&gt;</span><span class='hljl-t'>
    </span><span class='hljl-nf'>transform</span><span class='hljl-p'>(</span><span class='hljl-n'>job_sat_standardized</span><span class='hljl-t'> </span><span class='hljl-oB'>=</span><span class='hljl-t'> </span><span class='hljl-sc'>:job_sat</span><span class='hljl-t'> </span><span class='hljl-oB'>.-</span><span class='hljl-t'> </span><span class='hljl-n'>mean_jobsat</span><span class='hljl-p'>)</span><span class='hljl-t'>

</span><span class='hljl-n'>df</span><span class='hljl-t'> </span><span class='hljl-oB'>=</span><span class='hljl-t'> </span><span class='hljl-nd'>@linq</span><span class='hljl-t'> </span><span class='hljl-n'>df</span><span class='hljl-t'> </span><span class='hljl-oB'>|&gt;</span><span class='hljl-t'>
    </span><span class='hljl-nf'>transform</span><span class='hljl-p'>(</span><span class='hljl-n'>trust_plus_performance</span><span class='hljl-t'> </span><span class='hljl-oB'>=</span><span class='hljl-t'> </span><span class='hljl-sc'>:dyad_trust</span><span class='hljl-t'> </span><span class='hljl-oB'>.+</span><span class='hljl-t'> </span><span class='hljl-sc'>:team_performance</span><span class='hljl-p'>)</span><span class='hljl-t'>


</span><span class='hljl-nd'>@pt</span><span class='hljl-t'> </span><span class='hljl-n'>df</span><span class='hljl-p'>[</span><span class='hljl-oB'>:</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-p'>[</span><span class='hljl-sc'>:dyad_trust</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-sc'>:team_performance</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-sc'>:trust_plus_performance</span><span class='hljl-p'>]]</span>
</pre>


<pre class="output">
┌────────────┬──────────────────┬────────────────────────┐
│ dyad_trust │ team_performance │ trust_plus_performance │
│      Int64 │            Int64 │                  Int64 │
├────────────┼──────────────────┼────────────────────────┤
│          2 │                7 │                      9 │
│          2 │                7 │                      9 │
│          5 │                7 │                     12 │
│          5 │                7 │                     12 │
│          7 │                7 │                     14 │
│          7 │                4 │                     11 │
│          8 │                4 │                     12 │
│          8 │                4 │                     12 │
│          3 │                4 │                      7 │
│          3 │                4 │                      7 │
└────────────┴──────────────────┴────────────────────────┘
</pre>


<p>Sort the data based on the values within a given column.</p>


<pre class='hljl'>
<span class='hljl-n'>df</span><span class='hljl-t'> </span><span class='hljl-oB'>=</span><span class='hljl-t'> </span><span class='hljl-nd'>@linq</span><span class='hljl-t'> </span><span class='hljl-n'>df</span><span class='hljl-t'> </span><span class='hljl-oB'>|&gt;</span><span class='hljl-t'>
    </span><span class='hljl-nf'>orderby</span><span class='hljl-p'>(</span><span class='hljl-sc'>:number_of_kids</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-sc'>:fav_color</span><span class='hljl-p'>)</span><span class='hljl-t'>

</span><span class='hljl-nd'>@pt</span><span class='hljl-t'> </span><span class='hljl-n'>df</span><span class='hljl-p'>[</span><span class='hljl-oB'>:</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-p'>[</span><span class='hljl-sc'>:id</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-sc'>:team_id</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-sc'>:job_sat</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-sc'>:number_of_kids</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-sc'>:fav_color</span><span class='hljl-p'>]]</span>
</pre>


<pre class="output">
┌───────┬─────────┬─────────┬────────────────┬───────────┐
│    id │ team_id │ job_sat │ number_of_kids │ fav_color │
│ Int64 │  String │   Int64 │          Int64 │    String │
├───────┼─────────┼─────────┼────────────────┼───────────┤
│     5 │ awesome │       3 │              0 │      blue │
│    10 │    best │       5 │              0 │      blue │
│     3 │ awesome │       5 │              0 │     green │
│     4 │ awesome │       1 │              0 │    orange │
│     6 │    best │       3 │              0 │    yellow │
│     8 │    best │       2 │              1 │    orange │
│     9 │    best │       4 │              1 │    silver │
│     7 │    best │       3 │              2 │    purple │
│     1 │ awesome │       2 │              2 │       red │
│     2 │ awesome │       4 │              3 │       red │
└───────┴─────────┴─────────┴────────────────┴───────────┘
</pre>



<pre class='hljl'>
<span class='hljl-nf'>sort!</span><span class='hljl-p'>(</span><span class='hljl-n'>df</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-p'>[</span><span class='hljl-nf'>order</span><span class='hljl-p'>(</span><span class='hljl-sc'>:id</span><span class='hljl-p'>),</span><span class='hljl-t'> </span><span class='hljl-nf'>order</span><span class='hljl-p'>(</span><span class='hljl-sc'>:team_id</span><span class='hljl-p'>)])</span><span class='hljl-t'>

</span><span class='hljl-nd'>@pt</span><span class='hljl-t'> </span><span class='hljl-n'>df</span><span class='hljl-p'>[</span><span class='hljl-oB'>:</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-p'>[</span><span class='hljl-sc'>:id</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-sc'>:team_id</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-sc'>:job_sat</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-sc'>:number_of_kids</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-sc'>:fav_color</span><span class='hljl-p'>]]</span>
</pre>


<pre class="output">
┌───────┬─────────┬─────────┬────────────────┬───────────┐
│    id │ team_id │ job_sat │ number_of_kids │ fav_color │
│ Int64 │  String │   Int64 │          Int64 │    String │
├───────┼─────────┼─────────┼────────────────┼───────────┤
│     1 │ awesome │       2 │              2 │       red │
│     2 │ awesome │       4 │              3 │       red │
│     3 │ awesome │       5 │              0 │     green │
│     4 │ awesome │       1 │              0 │    orange │
│     5 │ awesome │       3 │              0 │      blue │
│     6 │    best │       3 │              0 │    yellow │
│     7 │    best │       3 │              2 │    purple │
│     8 │    best │       2 │              1 │    orange │
│     9 │    best │       4 │              1 │    silver │
│    10 │    best │       5 │              0 │      blue │
└───────┴─────────┴─────────┴────────────────┴───────────┘
</pre>


<h2>Rows</h2>
<p>Filter the data according to values within rows.</p>


<pre class='hljl'>
<span class='hljl-cs'># simple row commands</span><span class='hljl-t'>

</span><span class='hljl-nd'>@linq</span><span class='hljl-t'> </span><span class='hljl-n'>df</span><span class='hljl-t'> </span><span class='hljl-oB'>|&gt;</span><span class='hljl-t'>
    </span><span class='hljl-nf'>where</span><span class='hljl-p'>(</span><span class='hljl-sc'>:job_sat</span><span class='hljl-t'> </span><span class='hljl-oB'>.==</span><span class='hljl-t'> </span><span class='hljl-ni'>2</span><span class='hljl-p'>)</span><span class='hljl-t'>

</span><span class='hljl-nd'>@linq</span><span class='hljl-t'> </span><span class='hljl-n'>df</span><span class='hljl-t'> </span><span class='hljl-oB'>|&gt;</span><span class='hljl-t'>
    </span><span class='hljl-nf'>where</span><span class='hljl-p'>(</span><span class='hljl-sc'>:fav_color</span><span class='hljl-t'> </span><span class='hljl-oB'>.==</span><span class='hljl-t'> </span><span class='hljl-s'>&quot;red&quot;</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-sc'>:team_id</span><span class='hljl-t'> </span><span class='hljl-oB'>.==</span><span class='hljl-t'> </span><span class='hljl-s'>&quot;awesome&quot;</span><span class='hljl-p'>)</span><span class='hljl-t'>

</span><span class='hljl-cs'># specify which columns to keep</span><span class='hljl-t'>

</span><span class='hljl-n'>df</span><span class='hljl-p'>[</span><span class='hljl-n'>df</span><span class='hljl-oB'>.</span><span class='hljl-n'>job_sat</span><span class='hljl-t'> </span><span class='hljl-oB'>.&gt;</span><span class='hljl-t'> </span><span class='hljl-ni'>3</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-p'>[</span><span class='hljl-sc'>:name</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-sc'>:id</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-sc'>:job_sat</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-sc'>:need_achievement</span><span class='hljl-p'>]]</span><span class='hljl-t'>

</span><span class='hljl-nd'>@linq</span><span class='hljl-t'> </span><span class='hljl-n'>df</span><span class='hljl-t'> </span><span class='hljl-oB'>|&gt;</span><span class='hljl-t'>
    </span><span class='hljl-nf'>where</span><span class='hljl-p'>(</span><span class='hljl-sc'>:job_sat</span><span class='hljl-t'> </span><span class='hljl-oB'>.&gt;</span><span class='hljl-t'> </span><span class='hljl-ni'>3</span><span class='hljl-p'>)</span><span class='hljl-t'> </span><span class='hljl-oB'>|&gt;</span><span class='hljl-t'>
    </span><span class='hljl-nf'>select</span><span class='hljl-p'>(</span><span class='hljl-sc'>:name</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-sc'>:id</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-sc'>:job_sat</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-sc'>:need_achievement</span><span class='hljl-p'>)</span><span class='hljl-t'>

</span><span class='hljl-cs'># multiple filtering commands</span><span class='hljl-t'>

</span><span class='hljl-n'>df</span><span class='hljl-p'>[(</span><span class='hljl-n'>df</span><span class='hljl-oB'>.</span><span class='hljl-n'>job_sat</span><span class='hljl-t'> </span><span class='hljl-oB'>.&gt;</span><span class='hljl-t'> </span><span class='hljl-ni'>3</span><span class='hljl-p'>)</span><span class='hljl-t'> </span><span class='hljl-oB'>.&amp;</span><span class='hljl-t'> </span><span class='hljl-p'>(</span><span class='hljl-n'>df</span><span class='hljl-oB'>.</span><span class='hljl-n'>need_achievement</span><span class='hljl-t'> </span><span class='hljl-oB'>.&gt;</span><span class='hljl-t'> </span><span class='hljl-ni'>4</span><span class='hljl-p'>),</span><span class='hljl-t'> </span><span class='hljl-oB'>:</span><span class='hljl-p'>]</span><span class='hljl-t'>

</span><span class='hljl-nd'>@linq</span><span class='hljl-t'> </span><span class='hljl-n'>df</span><span class='hljl-t'> </span><span class='hljl-oB'>|&gt;</span><span class='hljl-t'>
    </span><span class='hljl-nf'>where</span><span class='hljl-p'>(</span><span class='hljl-sc'>:job_sat</span><span class='hljl-t'> </span><span class='hljl-oB'>.&gt;</span><span class='hljl-t'> </span><span class='hljl-ni'>3</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-sc'>:need_achievement</span><span class='hljl-t'> </span><span class='hljl-oB'>.&gt;</span><span class='hljl-t'> </span><span class='hljl-ni'>4</span><span class='hljl-p'>)</span>
</pre>



<table class="data-frame"><thead><tr><th></th><th>name</th><th>id</th><th>job_sat</th><th>need_achievement</th><th>fav_color</th><th>number_of_kids</th><th>instrument</th><th>team_id</th><th>dyad_id</th><th>dyad_trust</th><th>team_performance</th><th>country</th><th>common_value</th><th>language</th><th>fav_season</th><th>job_sat_standardized</th><th>trust_plus_performance</th></tr><tr><th></th><th>String</th><th>Int64</th><th>Int64</th><th>Int64</th><th>String</th><th>Int64</th><th>String</th><th>String</th><th>String</th><th>Int64</th><th>Int64</th><th>String</th><th>Int64</th><th>String</th><th>String</th><th>Float64</th><th>Int64</th></tr></thead><tbody><p>1 rows × 17 columns</p><tr><th>1</th><td>cloe</td><td>10</td><td>5</td><td>6</td><td>blue</td><td>0</td><td>clarinet</td><td>best</td><td>z</td><td>3</td><td>4</td><td>united_states</td><td>3</td><td>english</td><td>winter</td><td>2.5</td><td>7</td></tr></tbody></table>

<p>Identify a row and column value, use it in a computation, then replace the original value with the new computed value.</p>
<p>This seems archaic for a basic cheat sheet but I use this kind of script in almost every computational model that I create.</p>


<pre class='hljl'>
<span class='hljl-cs'># filter to a row</span><span class='hljl-t'>

</span><span class='hljl-n'>person_i_need</span><span class='hljl-t'> </span><span class='hljl-oB'>=</span><span class='hljl-t'> </span><span class='hljl-s'>&quot;josh&quot;</span><span class='hljl-t'>

</span><span class='hljl-n'>row_i_need</span><span class='hljl-t'> </span><span class='hljl-oB'>=</span><span class='hljl-t'> </span><span class='hljl-nd'>@linq</span><span class='hljl-t'> </span><span class='hljl-n'>df</span><span class='hljl-t'> </span><span class='hljl-oB'>|&gt;</span><span class='hljl-t'>
            </span><span class='hljl-nf'>where</span><span class='hljl-p'>(</span><span class='hljl-sc'>:name</span><span class='hljl-t'> </span><span class='hljl-oB'>.==</span><span class='hljl-t'> </span><span class='hljl-n'>person_i_need</span><span class='hljl-p'>)</span><span class='hljl-t'>

</span><span class='hljl-cs'># get josh&#39;s value of job satisfaction</span><span class='hljl-t'>

</span><span class='hljl-n'>value_i_need</span><span class='hljl-t'> </span><span class='hljl-oB'>=</span><span class='hljl-t'> </span><span class='hljl-nf'>Vector</span><span class='hljl-p'>(</span><span class='hljl-n'>row_i_need</span><span class='hljl-oB'>.</span><span class='hljl-n'>job_sat</span><span class='hljl-p'>)[</span><span class='hljl-ni'>1</span><span class='hljl-p'>]</span><span class='hljl-t'>

</span><span class='hljl-cs'>### don&#39;t do this</span><span class='hljl-t'>
</span><span class='hljl-cs'>### Vector(row_i_need.job_sat) - doing so will give you a vector</span><span class='hljl-t'>

</span><span class='hljl-cs'># do something with his job sat value</span><span class='hljl-t'>

</span><span class='hljl-n'>new_js</span><span class='hljl-t'> </span><span class='hljl-oB'>=</span><span class='hljl-t'> </span><span class='hljl-n'>value_i_need</span><span class='hljl-t'> </span><span class='hljl-oB'>+</span><span class='hljl-t'> </span><span class='hljl-ni'>10</span><span class='hljl-t'> </span><span class='hljl-oB'>*</span><span class='hljl-t'> </span><span class='hljl-ni'>4</span><span class='hljl-t'>

</span><span class='hljl-cs'># put the new value back into the data</span><span class='hljl-t'>

</span><span class='hljl-n'>df</span><span class='hljl-p'>[</span><span class='hljl-t'> </span><span class='hljl-p'>(</span><span class='hljl-n'>df</span><span class='hljl-oB'>.</span><span class='hljl-n'>name</span><span class='hljl-t'> </span><span class='hljl-oB'>.==</span><span class='hljl-t'> </span><span class='hljl-n'>person_i_need</span><span class='hljl-p'>)</span><span class='hljl-t'> </span><span class='hljl-oB'>.&amp;</span><span class='hljl-t'> </span><span class='hljl-p'>(</span><span class='hljl-n'>df</span><span class='hljl-oB'>.</span><span class='hljl-n'>team_id</span><span class='hljl-t'> </span><span class='hljl-oB'>.==</span><span class='hljl-t'> </span><span class='hljl-s'>&quot;awesome&quot;</span><span class='hljl-p'>),</span><span class='hljl-t'> </span><span class='hljl-sc'>:job_sat</span><span class='hljl-p'>]</span><span class='hljl-t'> </span><span class='hljl-oB'>=</span><span class='hljl-t'> </span><span class='hljl-n'>new_js</span><span class='hljl-t'>

</span><span class='hljl-nd'>@pt</span><span class='hljl-t'> </span><span class='hljl-n'>df</span><span class='hljl-p'>[</span><span class='hljl-oB'>:</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-p'>[</span><span class='hljl-sc'>:name</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-sc'>:job_sat</span><span class='hljl-p'>]]</span>
</pre>


<pre class="output">
┌─────────┬─────────┐
│    name │ job_sat │
│  String │   Int64 │
├─────────┼─────────┤
│    josh │      42 │
│    adam │       4 │
│   jenny │       5 │
│    rory │       1 │
│  thomas │       3 │
│    bill │       3 │
│   sarah │       3 │
│   allie │       2 │
│ shannon │       4 │
│    cloe │       5 │
└─────────┴─────────┘
</pre>


<p>Re-lable rows or create cutoffs. Similar to R&#39;s case_when&#40;&#41; function.</p>
<p>First example. Turn time points such as 1, 2, and 3 into character-labeled time points such as &quot;affect1&quot;, &quot;affect2&quot;, and &quot;affect3.&quot; This seems odd but it&#39;s necessary for creating wide data later on.</p>


<pre class='hljl'>
<span class='hljl-cs'># data frame</span><span class='hljl-t'>

</span><span class='hljl-n'>affect_df</span><span class='hljl-t'> </span><span class='hljl-oB'>=</span><span class='hljl-t'> </span><span class='hljl-nf'>DataFrame</span><span class='hljl-p'>(</span><span class='hljl-t'>
    </span><span class='hljl-n'>person</span><span class='hljl-t'> </span><span class='hljl-oB'>=</span><span class='hljl-t'> </span><span class='hljl-p'>[</span><span class='hljl-ni'>1</span><span class='hljl-p'>,</span><span class='hljl-ni'>1</span><span class='hljl-p'>,</span><span class='hljl-ni'>1</span><span class='hljl-p'>,</span><span class='hljl-ni'>2</span><span class='hljl-p'>,</span><span class='hljl-ni'>2</span><span class='hljl-p'>,</span><span class='hljl-ni'>2</span><span class='hljl-p'>,</span><span class='hljl-ni'>3</span><span class='hljl-p'>,</span><span class='hljl-ni'>3</span><span class='hljl-p'>,</span><span class='hljl-ni'>3</span><span class='hljl-p'>],</span><span class='hljl-t'>
    </span><span class='hljl-n'>time</span><span class='hljl-t'> </span><span class='hljl-oB'>=</span><span class='hljl-t'> </span><span class='hljl-p'>[</span><span class='hljl-ni'>1</span><span class='hljl-p'>,</span><span class='hljl-ni'>2</span><span class='hljl-p'>,</span><span class='hljl-ni'>3</span><span class='hljl-p'>,</span><span class='hljl-ni'>1</span><span class='hljl-p'>,</span><span class='hljl-ni'>2</span><span class='hljl-p'>,</span><span class='hljl-ni'>3</span><span class='hljl-p'>,</span><span class='hljl-ni'>1</span><span class='hljl-p'>,</span><span class='hljl-ni'>2</span><span class='hljl-p'>,</span><span class='hljl-ni'>3</span><span class='hljl-p'>],</span><span class='hljl-t'>
    </span><span class='hljl-n'>affect</span><span class='hljl-t'> </span><span class='hljl-oB'>=</span><span class='hljl-t'> </span><span class='hljl-p'>[</span><span class='hljl-ni'>3</span><span class='hljl-p'>,</span><span class='hljl-ni'>4</span><span class='hljl-p'>,</span><span class='hljl-ni'>2</span><span class='hljl-p'>,</span><span class='hljl-ni'>5</span><span class='hljl-p'>,</span><span class='hljl-ni'>3</span><span class='hljl-p'>,</span><span class='hljl-ni'>2</span><span class='hljl-p'>,</span><span class='hljl-ni'>4</span><span class='hljl-p'>,</span><span class='hljl-ni'>3</span><span class='hljl-p'>,</span><span class='hljl-ni'>2</span><span class='hljl-p'>]</span><span class='hljl-t'>
</span><span class='hljl-p'>)</span><span class='hljl-t'>

</span><span class='hljl-nd'>@pt</span><span class='hljl-t'> </span><span class='hljl-n'>affect_df</span>
</pre>


<pre class="output">
┌────────┬───────┬────────┐
│ person │  time │ affect │
│  Int64 │ Int64 │  Int64 │
├────────┼───────┼────────┤
│      1 │     1 │      3 │
│      1 │     2 │      4 │
│      1 │     3 │      2 │
│      2 │     1 │      5 │
│      2 │     2 │      3 │
│      2 │     3 │      2 │
│      3 │     1 │      4 │
│      3 │     2 │      3 │
│      3 │     3 │      2 │
└────────┴───────┴────────┘
</pre>



<pre class='hljl'>
<span class='hljl-cs'># function specifying how the labels should change</span><span class='hljl-t'>

</span><span class='hljl-k'>function</span><span class='hljl-t'> </span><span class='hljl-nf'>convert_rows</span><span class='hljl-p'>(</span><span class='hljl-n'>val</span><span class='hljl-p'>)</span><span class='hljl-t'>
    </span><span class='hljl-k'>if</span><span class='hljl-t'> </span><span class='hljl-n'>val</span><span class='hljl-t'> </span><span class='hljl-oB'>==</span><span class='hljl-t'> </span><span class='hljl-ni'>1</span><span class='hljl-t'>
        </span><span class='hljl-n'>result</span><span class='hljl-t'> </span><span class='hljl-oB'>=</span><span class='hljl-t'> </span><span class='hljl-s'>&quot;affect1&quot;</span><span class='hljl-t'>
    </span><span class='hljl-k'>elseif</span><span class='hljl-t'> </span><span class='hljl-n'>val</span><span class='hljl-t'> </span><span class='hljl-oB'>==</span><span class='hljl-t'> </span><span class='hljl-ni'>2</span><span class='hljl-t'>
        </span><span class='hljl-n'>result</span><span class='hljl-t'> </span><span class='hljl-oB'>=</span><span class='hljl-t'> </span><span class='hljl-s'>&quot;affect2&quot;</span><span class='hljl-t'>
    </span><span class='hljl-k'>else</span><span class='hljl-t'>
        </span><span class='hljl-n'>result</span><span class='hljl-t'> </span><span class='hljl-oB'>=</span><span class='hljl-t'> </span><span class='hljl-s'>&quot;affect3&quot;</span><span class='hljl-t'>
    </span><span class='hljl-k'>return</span><span class='hljl-p'>(</span><span class='hljl-n'>result</span><span class='hljl-p'>)</span><span class='hljl-t'>
</span><span class='hljl-k'>end</span><span class='hljl-t'>
</span><span class='hljl-k'>end</span><span class='hljl-t'>



</span><span class='hljl-cs'># use that function within a transform call to create a new column</span><span class='hljl-t'>
</span><span class='hljl-cs'># use f.() syntax to vectorize</span><span class='hljl-t'>

</span><span class='hljl-n'>affect_df</span><span class='hljl-t'> </span><span class='hljl-oB'>=</span><span class='hljl-t'> </span><span class='hljl-nd'>@linq</span><span class='hljl-t'> </span><span class='hljl-n'>affect_df</span><span class='hljl-t'> </span><span class='hljl-oB'>|&gt;</span><span class='hljl-t'>
            </span><span class='hljl-nf'>transform</span><span class='hljl-p'>(</span><span class='hljl-n'>label_time</span><span class='hljl-t'> </span><span class='hljl-oB'>=</span><span class='hljl-t'> </span><span class='hljl-n'>convert_rows</span><span class='hljl-oB'>.</span><span class='hljl-p'>(</span><span class='hljl-sc'>:time</span><span class='hljl-p'>))</span><span class='hljl-t'>


</span><span class='hljl-nd'>@pt</span><span class='hljl-t'> </span><span class='hljl-n'>affect_df</span>
</pre>


<pre class="output">
┌────────┬───────┬────────┬────────────┐
│ person │  time │ affect │ label_time │
│  Int64 │ Int64 │  Int64 │     String │
├────────┼───────┼────────┼────────────┤
│      1 │     1 │      3 │    affect1 │
│      1 │     2 │      4 │    affect2 │
│      1 │     3 │      2 │    affect3 │
│      2 │     1 │      5 │    affect1 │
│      2 │     2 │      3 │    affect2 │
│      2 │     3 │      2 │    affect3 │
│      3 │     1 │      4 │    affect1 │
│      3 │     2 │      3 │    affect2 │
│      3 │     3 │      2 │    affect3 │
└────────┴───────┴────────┴────────────┘
</pre>


<p>Second example. Change character values into different character values.</p>


<pre class='hljl'>
<span class='hljl-cs'># data</span><span class='hljl-t'>

</span><span class='hljl-n'>labels_df</span><span class='hljl-t'> </span><span class='hljl-oB'>=</span><span class='hljl-t'> </span><span class='hljl-nf'>DataFrame</span><span class='hljl-p'>(</span><span class='hljl-t'>
    </span><span class='hljl-n'>labels</span><span class='hljl-t'> </span><span class='hljl-oB'>=</span><span class='hljl-t'> </span><span class='hljl-p'>[</span><span class='hljl-s'>&quot;dog&quot;</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-s'>&quot;shoe&quot;</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-s'>&quot;barn&quot;</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-s'>&quot;door&quot;</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-s'>&quot;cash&quot;</span><span class='hljl-p'>]</span><span class='hljl-t'>
</span><span class='hljl-p'>)</span><span class='hljl-t'>

</span><span class='hljl-cs'># function specifying how the values should change</span><span class='hljl-t'>

</span><span class='hljl-k'>function</span><span class='hljl-t'> </span><span class='hljl-nf'>convert_labels</span><span class='hljl-p'>(</span><span class='hljl-n'>label</span><span class='hljl-p'>)</span><span class='hljl-t'>
    </span><span class='hljl-k'>if</span><span class='hljl-t'> </span><span class='hljl-n'>label</span><span class='hljl-t'> </span><span class='hljl-oB'>==</span><span class='hljl-t'> </span><span class='hljl-s'>&quot;dog&quot;</span><span class='hljl-t'>
        </span><span class='hljl-n'>result</span><span class='hljl-t'> </span><span class='hljl-oB'>=</span><span class='hljl-t'> </span><span class='hljl-s'>&quot;blue&quot;</span><span class='hljl-t'>
    </span><span class='hljl-k'>elseif</span><span class='hljl-t'> </span><span class='hljl-n'>label</span><span class='hljl-t'> </span><span class='hljl-oB'>==</span><span class='hljl-t'> </span><span class='hljl-s'>&quot;shoe&quot;</span><span class='hljl-t'>
        </span><span class='hljl-n'>result</span><span class='hljl-t'> </span><span class='hljl-oB'>=</span><span class='hljl-t'> </span><span class='hljl-s'>&quot;green&quot;</span><span class='hljl-t'>
    </span><span class='hljl-k'>elseif</span><span class='hljl-t'> </span><span class='hljl-n'>label</span><span class='hljl-t'> </span><span class='hljl-oB'>==</span><span class='hljl-t'> </span><span class='hljl-s'>&quot;barn&quot;</span><span class='hljl-t'>
        </span><span class='hljl-n'>result</span><span class='hljl-t'> </span><span class='hljl-oB'>=</span><span class='hljl-t'> </span><span class='hljl-s'>&quot;orange&quot;</span><span class='hljl-t'>
    </span><span class='hljl-k'>elseif</span><span class='hljl-t'> </span><span class='hljl-n'>label</span><span class='hljl-t'> </span><span class='hljl-oB'>==</span><span class='hljl-t'> </span><span class='hljl-s'>&quot;door&quot;</span><span class='hljl-t'>
        </span><span class='hljl-n'>result</span><span class='hljl-t'> </span><span class='hljl-oB'>=</span><span class='hljl-t'> </span><span class='hljl-s'>&quot;black&quot;</span><span class='hljl-t'>
    </span><span class='hljl-k'>elseif</span><span class='hljl-t'> </span><span class='hljl-n'>label</span><span class='hljl-t'> </span><span class='hljl-oB'>==</span><span class='hljl-t'> </span><span class='hljl-s'>&quot;cash&quot;</span><span class='hljl-t'>
        </span><span class='hljl-n'>result</span><span class='hljl-t'> </span><span class='hljl-oB'>=</span><span class='hljl-t'> </span><span class='hljl-s'>&quot;yellow&quot;</span><span class='hljl-t'>
    </span><span class='hljl-k'>return</span><span class='hljl-p'>(</span><span class='hljl-n'>result</span><span class='hljl-p'>)</span><span class='hljl-t'>
</span><span class='hljl-k'>end</span><span class='hljl-t'>
</span><span class='hljl-k'>end</span><span class='hljl-t'>

</span><span class='hljl-cs'># transform a column and use f.() syntax</span><span class='hljl-t'>

</span><span class='hljl-n'>labels_df</span><span class='hljl-t'> </span><span class='hljl-oB'>=</span><span class='hljl-t'> </span><span class='hljl-nd'>@linq</span><span class='hljl-t'> </span><span class='hljl-n'>labels_df</span><span class='hljl-t'> </span><span class='hljl-oB'>|&gt;</span><span class='hljl-t'>
        </span><span class='hljl-nf'>transform</span><span class='hljl-p'>(</span><span class='hljl-n'>color_labels</span><span class='hljl-t'> </span><span class='hljl-oB'>=</span><span class='hljl-t'> </span><span class='hljl-n'>convert_labels</span><span class='hljl-oB'>.</span><span class='hljl-p'>(</span><span class='hljl-sc'>:labels</span><span class='hljl-p'>))</span><span class='hljl-t'>


</span><span class='hljl-nd'>@pt</span><span class='hljl-t'> </span><span class='hljl-n'>labels_df</span>
</pre>


<pre class="output">
┌────────┬──────────────┐
│ labels │ color_labels │
│ String │       String │
├────────┼──────────────┤
│    dog │         blue │
│   shoe │        green │
│   barn │       orange │
│   door │        black │
│   cash │       yellow │
└────────┴──────────────┘
</pre>


<p>Third example. Create cutoffs with boolean logic.</p>


<pre class='hljl'>
<span class='hljl-cs'># data</span><span class='hljl-t'>

</span><span class='hljl-n'>intermediates_df</span><span class='hljl-t'> </span><span class='hljl-oB'>=</span><span class='hljl-t'> </span><span class='hljl-nf'>DataFrame</span><span class='hljl-p'>(</span><span class='hljl-t'>
    </span><span class='hljl-n'>person</span><span class='hljl-t'> </span><span class='hljl-oB'>=</span><span class='hljl-t'> </span><span class='hljl-p'>[</span><span class='hljl-ni'>1</span><span class='hljl-p'>,</span><span class='hljl-ni'>2</span><span class='hljl-p'>,</span><span class='hljl-ni'>3</span><span class='hljl-p'>,</span><span class='hljl-ni'>4</span><span class='hljl-p'>,</span><span class='hljl-ni'>5</span><span class='hljl-p'>,</span><span class='hljl-ni'>6</span><span class='hljl-p'>,</span><span class='hljl-ni'>7</span><span class='hljl-p'>,</span><span class='hljl-ni'>8</span><span class='hljl-p'>],</span><span class='hljl-t'>
    </span><span class='hljl-n'>score</span><span class='hljl-t'> </span><span class='hljl-oB'>=</span><span class='hljl-t'> </span><span class='hljl-p'>[</span><span class='hljl-ni'>1</span><span class='hljl-p'>,</span><span class='hljl-ni'>2</span><span class='hljl-p'>,</span><span class='hljl-ni'>3</span><span class='hljl-p'>,</span><span class='hljl-ni'>7</span><span class='hljl-p'>,</span><span class='hljl-ni'>8</span><span class='hljl-p'>,</span><span class='hljl-ni'>9</span><span class='hljl-p'>,</span><span class='hljl-ni'>20</span><span class='hljl-p'>,</span><span class='hljl-ni'>30</span><span class='hljl-p'>]</span><span class='hljl-t'>
</span><span class='hljl-p'>)</span><span class='hljl-t'>

</span><span class='hljl-cs'># function specifying the cutoffs</span><span class='hljl-t'>

</span><span class='hljl-k'>function</span><span class='hljl-t'> </span><span class='hljl-nf'>create_limits</span><span class='hljl-p'>(</span><span class='hljl-n'>x</span><span class='hljl-p'>)</span><span class='hljl-t'>
    </span><span class='hljl-k'>if</span><span class='hljl-t'> </span><span class='hljl-n'>x</span><span class='hljl-t'> </span><span class='hljl-oB'>&lt;</span><span class='hljl-t'> </span><span class='hljl-ni'>5</span><span class='hljl-t'>
        </span><span class='hljl-n'>result</span><span class='hljl-t'> </span><span class='hljl-oB'>=</span><span class='hljl-t'> </span><span class='hljl-s'>&quot;low&quot;</span><span class='hljl-t'>
    </span><span class='hljl-k'>elseif</span><span class='hljl-t'> </span><span class='hljl-ni'>5</span><span class='hljl-t'> </span><span class='hljl-oB'>&lt;</span><span class='hljl-t'> </span><span class='hljl-n'>x</span><span class='hljl-t'> </span><span class='hljl-oB'>&lt;</span><span class='hljl-t'> </span><span class='hljl-ni'>10</span><span class='hljl-t'>
        </span><span class='hljl-n'>result</span><span class='hljl-t'> </span><span class='hljl-oB'>=</span><span class='hljl-t'> </span><span class='hljl-s'>&quot;medium&quot;</span><span class='hljl-t'>
    </span><span class='hljl-k'>elseif</span><span class='hljl-t'> </span><span class='hljl-n'>x</span><span class='hljl-t'> </span><span class='hljl-oB'>&gt;</span><span class='hljl-t'> </span><span class='hljl-ni'>10</span><span class='hljl-t'>
        </span><span class='hljl-n'>result</span><span class='hljl-t'> </span><span class='hljl-oB'>=</span><span class='hljl-t'> </span><span class='hljl-s'>&quot;high&quot;</span><span class='hljl-t'>
    </span><span class='hljl-k'>return</span><span class='hljl-p'>(</span><span class='hljl-n'>result</span><span class='hljl-p'>)</span><span class='hljl-t'>
</span><span class='hljl-k'>end</span><span class='hljl-t'>
</span><span class='hljl-k'>end</span><span class='hljl-t'>

</span><span class='hljl-cs'># transform a column and use f.() syntax</span><span class='hljl-t'>

</span><span class='hljl-n'>intermediates_df</span><span class='hljl-t'> </span><span class='hljl-oB'>=</span><span class='hljl-t'> </span><span class='hljl-nd'>@linq</span><span class='hljl-t'> </span><span class='hljl-n'>intermediates_df</span><span class='hljl-t'> </span><span class='hljl-oB'>|&gt;</span><span class='hljl-t'>
            </span><span class='hljl-nf'>transform</span><span class='hljl-p'>(</span><span class='hljl-n'>cutoffs</span><span class='hljl-t'> </span><span class='hljl-oB'>=</span><span class='hljl-t'> </span><span class='hljl-n'>create_limits</span><span class='hljl-oB'>.</span><span class='hljl-p'>(</span><span class='hljl-sc'>:score</span><span class='hljl-p'>))</span><span class='hljl-t'>


</span><span class='hljl-nd'>@pt</span><span class='hljl-t'> </span><span class='hljl-n'>intermediates_df</span>
</pre>


<pre class="output">
┌────────┬───────┬─────────┐
│ person │ score │ cutoffs │
│  Int64 │ Int64 │  String │
├────────┼───────┼─────────┤
│      1 │     1 │     low │
│      2 │     2 │     low │
│      3 │     3 │     low │
│      4 │     7 │  medium │
│      5 │     8 │  medium │
│      6 │     9 │  medium │
│      7 │    20 │    high │
│      8 │    30 │    high │
└────────┴───────┴─────────┘
</pre>


<p>Fourth example: logic using multiple columns.</p>


<pre class='hljl'>
<span class='hljl-cs'># data</span><span class='hljl-t'>

</span><span class='hljl-n'>weather_df</span><span class='hljl-t'> </span><span class='hljl-oB'>=</span><span class='hljl-t'> </span><span class='hljl-nf'>DataFrame</span><span class='hljl-p'>(</span><span class='hljl-t'>
    </span><span class='hljl-n'>sun</span><span class='hljl-t'> </span><span class='hljl-oB'>=</span><span class='hljl-t'> </span><span class='hljl-p'>[</span><span class='hljl-ni'>3</span><span class='hljl-p'>,</span><span class='hljl-ni'>2</span><span class='hljl-p'>,</span><span class='hljl-ni'>1</span><span class='hljl-p'>,</span><span class='hljl-ni'>8</span><span class='hljl-p'>,</span><span class='hljl-ni'>9</span><span class='hljl-p'>,</span><span class='hljl-ni'>7</span><span class='hljl-p'>],</span><span class='hljl-t'>
    </span><span class='hljl-n'>clouds</span><span class='hljl-t'> </span><span class='hljl-oB'>=</span><span class='hljl-t'> </span><span class='hljl-p'>[</span><span class='hljl-ni'>8</span><span class='hljl-p'>,</span><span class='hljl-ni'>5</span><span class='hljl-p'>,</span><span class='hljl-ni'>7</span><span class='hljl-p'>,</span><span class='hljl-ni'>2</span><span class='hljl-p'>,</span><span class='hljl-ni'>1</span><span class='hljl-p'>,</span><span class='hljl-ni'>3</span><span class='hljl-p'>],</span><span class='hljl-t'>
    </span><span class='hljl-n'>day</span><span class='hljl-t'> </span><span class='hljl-oB'>=</span><span class='hljl-t'> </span><span class='hljl-p'>[</span><span class='hljl-ni'>1</span><span class='hljl-p'>,</span><span class='hljl-ni'>2</span><span class='hljl-p'>,</span><span class='hljl-ni'>3</span><span class='hljl-p'>,</span><span class='hljl-ni'>4</span><span class='hljl-p'>,</span><span class='hljl-ni'>5</span><span class='hljl-p'>,</span><span class='hljl-ni'>6</span><span class='hljl-p'>]</span><span class='hljl-t'>
</span><span class='hljl-p'>)</span><span class='hljl-t'>

</span><span class='hljl-cs'># function specifying logic</span><span class='hljl-t'>

</span><span class='hljl-k'>function</span><span class='hljl-t'> </span><span class='hljl-nf'>determine_weather</span><span class='hljl-p'>(</span><span class='hljl-n'>col1</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-n'>col2</span><span class='hljl-p'>)</span><span class='hljl-t'>
    </span><span class='hljl-k'>if</span><span class='hljl-t'> </span><span class='hljl-n'>col1</span><span class='hljl-t'> </span><span class='hljl-oB'>&lt;</span><span class='hljl-t'> </span><span class='hljl-n'>col2</span><span class='hljl-t'>
        </span><span class='hljl-n'>result</span><span class='hljl-t'> </span><span class='hljl-oB'>=</span><span class='hljl-t'> </span><span class='hljl-s'>&quot;cloudy&quot;</span><span class='hljl-t'>
    </span><span class='hljl-k'>elseif</span><span class='hljl-t'> </span><span class='hljl-n'>col1</span><span class='hljl-t'> </span><span class='hljl-oB'>&gt;</span><span class='hljl-t'> </span><span class='hljl-n'>col2</span><span class='hljl-t'>
        </span><span class='hljl-n'>result</span><span class='hljl-t'> </span><span class='hljl-oB'>=</span><span class='hljl-t'> </span><span class='hljl-s'>&quot;sunny&quot;</span><span class='hljl-t'>
    </span><span class='hljl-k'>elseif</span><span class='hljl-t'> </span><span class='hljl-n'>col1</span><span class='hljl-t'> </span><span class='hljl-oB'>==</span><span class='hljl-t'> </span><span class='hljl-n'>col2</span><span class='hljl-t'>
        </span><span class='hljl-n'>result</span><span class='hljl-t'> </span><span class='hljl-oB'>=</span><span class='hljl-t'> </span><span class='hljl-s'>&quot;hazzy&quot;</span><span class='hljl-t'>
    </span><span class='hljl-k'>end</span><span class='hljl-t'>
</span><span class='hljl-k'>end</span><span class='hljl-t'>

</span><span class='hljl-cs'># transform the data using a create new column command and f.() syntax</span><span class='hljl-t'>

</span><span class='hljl-n'>weather_df</span><span class='hljl-t'> </span><span class='hljl-oB'>=</span><span class='hljl-t'> </span><span class='hljl-nd'>@linq</span><span class='hljl-t'> </span><span class='hljl-n'>weather_df</span><span class='hljl-t'> </span><span class='hljl-oB'>|&gt;</span><span class='hljl-t'>
    </span><span class='hljl-nf'>transform</span><span class='hljl-p'>(</span><span class='hljl-n'>weather</span><span class='hljl-t'> </span><span class='hljl-oB'>=</span><span class='hljl-t'> </span><span class='hljl-n'>determine_weather</span><span class='hljl-oB'>.</span><span class='hljl-p'>(</span><span class='hljl-sc'>:sun</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-sc'>:clouds</span><span class='hljl-p'>))</span><span class='hljl-t'>

</span><span class='hljl-nd'>@pt</span><span class='hljl-t'> </span><span class='hljl-n'>weather_df</span>
</pre>


<pre class="output">
┌───────┬────────┬───────┬─────────┐
│   sun │ clouds │   day │ weather │
│ Int64 │  Int64 │ Int64 │  String │
├───────┼────────┼───────┼─────────┤
│     3 │      8 │     1 │  cloudy │
│     2 │      5 │     2 │  cloudy │
│     1 │      7 │     3 │  cloudy │
│     8 │      2 │     4 │   sunny │
│     9 │      1 │     5 │   sunny │
│     7 │      3 │     6 │   sunny │
└───────┴────────┴───────┴─────────┘
</pre>


<h1>Summary Calculations</h1>
<p>Calculate column means.</p>


<pre class='hljl'>
<span class='hljl-cs'># mean of single column</span><span class='hljl-t'>

</span><span class='hljl-nf'>mean</span><span class='hljl-p'>(</span><span class='hljl-n'>df</span><span class='hljl-oB'>.</span><span class='hljl-n'>need_achievement</span><span class='hljl-p'>)</span><span class='hljl-t'>

</span><span class='hljl-cs'># within each team, calculate the mean job satisfaction</span><span class='hljl-t'>

</span><span class='hljl-nd'>@linq</span><span class='hljl-t'> </span><span class='hljl-n'>df</span><span class='hljl-t'> </span><span class='hljl-oB'>|&gt;</span><span class='hljl-t'>
    </span><span class='hljl-nf'>groupby</span><span class='hljl-p'>(</span><span class='hljl-sc'>:team_id</span><span class='hljl-p'>)</span><span class='hljl-t'> </span><span class='hljl-oB'>|&gt;</span><span class='hljl-t'>
    </span><span class='hljl-nf'>based_on</span><span class='hljl-p'>(</span><span class='hljl-n'>mean_jobsat</span><span class='hljl-t'> </span><span class='hljl-oB'>=</span><span class='hljl-t'> </span><span class='hljl-nf'>mean</span><span class='hljl-p'>(</span><span class='hljl-sc'>:job_sat</span><span class='hljl-p'>))</span><span class='hljl-t'>

</span><span class='hljl-cs'># within each dyad, calculate the mean and sd need for achievement</span><span class='hljl-t'>

</span><span class='hljl-nd'>@linq</span><span class='hljl-t'> </span><span class='hljl-n'>df</span><span class='hljl-t'> </span><span class='hljl-oB'>|&gt;</span><span class='hljl-t'>
    </span><span class='hljl-nf'>groupby</span><span class='hljl-p'>(</span><span class='hljl-sc'>:dyad_id</span><span class='hljl-p'>)</span><span class='hljl-t'> </span><span class='hljl-oB'>|&gt;</span><span class='hljl-t'>
    </span><span class='hljl-nf'>based_on</span><span class='hljl-p'>(</span><span class='hljl-t'>
        </span><span class='hljl-n'>mean_need_achievement</span><span class='hljl-t'> </span><span class='hljl-oB'>=</span><span class='hljl-t'> </span><span class='hljl-nf'>mean</span><span class='hljl-p'>(</span><span class='hljl-sc'>:need_achievement</span><span class='hljl-p'>),</span><span class='hljl-t'>
        </span><span class='hljl-n'>sd_need_achievement</span><span class='hljl-t'> </span><span class='hljl-oB'>=</span><span class='hljl-t'> </span><span class='hljl-nf'>std</span><span class='hljl-p'>(</span><span class='hljl-sc'>:need_achievement</span><span class='hljl-p'>)</span><span class='hljl-t'>
    </span><span class='hljl-p'>)</span>
</pre>



<table class="data-frame"><thead><tr><th></th><th>dyad_id</th><th>mean_need_achievement</th><th>sd_need_achievement</th></tr><tr><th></th><th>String</th><th>Float64</th><th>Float64</th></tr></thead><tbody><p>5 rows × 3 columns</p><tr><th>1</th><td>v</td><td>5.5</td><td>3.53553</td></tr><tr><th>2</th><td>w</td><td>5.5</td><td>2.12132</td></tr><tr><th>3</th><td>x</td><td>5.5</td><td>4.94975</td></tr><tr><th>4</th><td>y</td><td>7.5</td><td>3.53553</td></tr><tr><th>5</th><td>z</td><td>5.0</td><td>1.41421</td></tr></tbody></table>

<p>What if there is missing data?</p>


<pre class='hljl'>
<span class='hljl-n'>missing_df</span><span class='hljl-t'> </span><span class='hljl-oB'>=</span><span class='hljl-t'> </span><span class='hljl-nf'>DataFrame</span><span class='hljl-p'>(</span><span class='hljl-t'>
    </span><span class='hljl-n'>team_id</span><span class='hljl-t'> </span><span class='hljl-oB'>=</span><span class='hljl-t'> </span><span class='hljl-p'>[</span><span class='hljl-s'>&quot;team_a&quot;</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-s'>&quot;team_a&quot;</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-s'>&quot;team_a&quot;</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-s'>&quot;team_b&quot;</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-s'>&quot;team_b&quot;</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-s'>&quot;team_b&quot;</span><span class='hljl-p'>],</span><span class='hljl-t'>
    </span><span class='hljl-n'>name</span><span class='hljl-t'> </span><span class='hljl-oB'>=</span><span class='hljl-t'> </span><span class='hljl-p'>[</span><span class='hljl-s'>&quot;ted&quot;</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-s'>&quot;stewart&quot;</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-s'>&quot;jessie&quot;</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-s'>&quot;susan&quot;</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-s'>&quot;carie&quot;</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-s'>&quot;rachel&quot;</span><span class='hljl-p'>],</span><span class='hljl-t'>
    </span><span class='hljl-n'>cohesion</span><span class='hljl-t'> </span><span class='hljl-oB'>=</span><span class='hljl-t'> </span><span class='hljl-p'>[</span><span class='hljl-ni'>3</span><span class='hljl-p'>,</span><span class='hljl-ni'>6</span><span class='hljl-p'>,</span><span class='hljl-n'>missing</span><span class='hljl-p'>,</span><span class='hljl-ni'>7</span><span class='hljl-p'>,</span><span class='hljl-ni'>8</span><span class='hljl-p'>,</span><span class='hljl-n'>missing</span><span class='hljl-p'>]</span><span class='hljl-t'>
</span><span class='hljl-p'>)</span><span class='hljl-t'>

</span><span class='hljl-nd'>@pt</span><span class='hljl-t'> </span><span class='hljl-n'>missing_df</span>
</pre>


<pre class="output">
┌─────────┬─────────┬───────────────────────┐
│ team_id │    name │              cohesion │
│  String │  String │ Union&#123;Missing, Int64&#125; │
├─────────┼─────────┼───────────────────────┤
│  team_a │     ted │                     3 │
│  team_a │ stewart │                     6 │
│  team_a │  jessie │               missing │
│  team_b │   susan │                     7 │
│  team_b │   carie │                     8 │
│  team_b │  rachel │               missing │
└─────────┴─────────┴───────────────────────┘
</pre>



<pre class='hljl'>
<span class='hljl-nd'>@linq</span><span class='hljl-t'> </span><span class='hljl-n'>missing_df</span><span class='hljl-t'> </span><span class='hljl-oB'>|&gt;</span><span class='hljl-t'>
    </span><span class='hljl-nf'>groupby</span><span class='hljl-p'>(</span><span class='hljl-sc'>:team_id</span><span class='hljl-p'>)</span><span class='hljl-t'> </span><span class='hljl-oB'>|&gt;</span><span class='hljl-t'>
    </span><span class='hljl-nf'>based_on</span><span class='hljl-p'>(</span><span class='hljl-t'>
        </span><span class='hljl-n'>mean_cohesion</span><span class='hljl-t'> </span><span class='hljl-oB'>=</span><span class='hljl-t'> </span><span class='hljl-nf'>mean</span><span class='hljl-p'>(</span><span class='hljl-nf'>skipmissing</span><span class='hljl-p'>(</span><span class='hljl-sc'>:cohesion</span><span class='hljl-p'>)),</span><span class='hljl-t'>
        </span><span class='hljl-n'>sd_cohesion</span><span class='hljl-t'> </span><span class='hljl-oB'>=</span><span class='hljl-t'> </span><span class='hljl-nf'>std</span><span class='hljl-p'>(</span><span class='hljl-nf'>skipmissing</span><span class='hljl-p'>(</span><span class='hljl-sc'>:cohesion</span><span class='hljl-p'>))</span><span class='hljl-t'>
    </span><span class='hljl-p'>)</span>
</pre>



<table class="data-frame"><thead><tr><th></th><th>team_id</th><th>mean_cohesion</th><th>sd_cohesion</th></tr><tr><th></th><th>String</th><th>Float64</th><th>Float64</th></tr></thead><tbody><p>2 rows × 3 columns</p><tr><th>1</th><td>team_a</td><td>4.5</td><td>2.12132</td></tr><tr><th>2</th><td>team_b</td><td>7.5</td><td>0.707107</td></tr></tbody></table>

<p>What if the missing data is labeled as NaN?</p>


<pre class='hljl'>
<span class='hljl-n'>missing_df_nan</span><span class='hljl-t'> </span><span class='hljl-oB'>=</span><span class='hljl-t'> </span><span class='hljl-nf'>DataFrame</span><span class='hljl-p'>(</span><span class='hljl-t'>
        </span><span class='hljl-n'>team_id</span><span class='hljl-t'> </span><span class='hljl-oB'>=</span><span class='hljl-t'> </span><span class='hljl-p'>[</span><span class='hljl-s'>&quot;team_a&quot;</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-s'>&quot;team_a&quot;</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-s'>&quot;team_a&quot;</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-s'>&quot;team_b&quot;</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-s'>&quot;team_b&quot;</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-s'>&quot;team_b&quot;</span><span class='hljl-p'>],</span><span class='hljl-t'>
        </span><span class='hljl-n'>name</span><span class='hljl-t'> </span><span class='hljl-oB'>=</span><span class='hljl-t'> </span><span class='hljl-p'>[</span><span class='hljl-s'>&quot;ted&quot;</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-s'>&quot;stewart&quot;</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-s'>&quot;jessie&quot;</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-s'>&quot;susan&quot;</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-s'>&quot;carie&quot;</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-s'>&quot;rachel&quot;</span><span class='hljl-p'>],</span><span class='hljl-t'>
        </span><span class='hljl-n'>cohesion</span><span class='hljl-t'> </span><span class='hljl-oB'>=</span><span class='hljl-t'> </span><span class='hljl-p'>[</span><span class='hljl-ni'>3</span><span class='hljl-p'>,</span><span class='hljl-ni'>6</span><span class='hljl-p'>,</span><span class='hljl-n'>NaN</span><span class='hljl-p'>,</span><span class='hljl-ni'>7</span><span class='hljl-p'>,</span><span class='hljl-ni'>8</span><span class='hljl-p'>,</span><span class='hljl-n'>NaN</span><span class='hljl-p'>]</span><span class='hljl-t'>
    </span><span class='hljl-p'>)</span><span class='hljl-t'>

</span><span class='hljl-nd'>@pt</span><span class='hljl-t'> </span><span class='hljl-n'>missing_df_nan</span>
</pre>


<pre class="output">
┌─────────┬─────────┬──────────┐
│ team_id │    name │ cohesion │
│  String │  String │  Float64 │
├─────────┼─────────┼──────────┤
│  team_a │     ted │      3.0 │
│  team_a │ stewart │      6.0 │
│  team_a │  jessie │      NaN │
│  team_b │   susan │      7.0 │
│  team_b │   carie │      8.0 │
│  team_b │  rachel │      NaN │
└─────────┴─────────┴──────────┘
</pre>



<pre class='hljl'>
<span class='hljl-nf'>nanmean</span><span class='hljl-p'>(</span><span class='hljl-n'>x</span><span class='hljl-p'>)</span><span class='hljl-t'> </span><span class='hljl-oB'>=</span><span class='hljl-t'> </span><span class='hljl-nf'>mean</span><span class='hljl-p'>(</span><span class='hljl-nf'>filter</span><span class='hljl-p'>(</span><span class='hljl-oB'>!</span><span class='hljl-n'>isnan</span><span class='hljl-p'>,</span><span class='hljl-n'>x</span><span class='hljl-p'>))</span><span class='hljl-t'>
</span><span class='hljl-nf'>nansd</span><span class='hljl-p'>(</span><span class='hljl-n'>x</span><span class='hljl-p'>)</span><span class='hljl-t'> </span><span class='hljl-oB'>=</span><span class='hljl-t'> </span><span class='hljl-nf'>std</span><span class='hljl-p'>(</span><span class='hljl-nf'>filter</span><span class='hljl-p'>(</span><span class='hljl-oB'>!</span><span class='hljl-n'>isnan</span><span class='hljl-p'>,</span><span class='hljl-n'>x</span><span class='hljl-p'>))</span><span class='hljl-t'>

</span><span class='hljl-nd'>@linq</span><span class='hljl-t'> </span><span class='hljl-n'>missing_df_nan</span><span class='hljl-t'> </span><span class='hljl-oB'>|&gt;</span><span class='hljl-t'>
        </span><span class='hljl-nf'>groupby</span><span class='hljl-p'>(</span><span class='hljl-sc'>:team_id</span><span class='hljl-p'>)</span><span class='hljl-t'> </span><span class='hljl-oB'>|&gt;</span><span class='hljl-t'>
        </span><span class='hljl-nf'>based_on</span><span class='hljl-p'>(</span><span class='hljl-t'>
            </span><span class='hljl-n'>mean_cohesion</span><span class='hljl-t'> </span><span class='hljl-oB'>=</span><span class='hljl-t'> </span><span class='hljl-nf'>nanmean</span><span class='hljl-p'>(</span><span class='hljl-sc'>:cohesion</span><span class='hljl-p'>),</span><span class='hljl-t'>
            </span><span class='hljl-n'>sd_cohesion</span><span class='hljl-t'> </span><span class='hljl-oB'>=</span><span class='hljl-t'> </span><span class='hljl-nf'>nansd</span><span class='hljl-p'>(</span><span class='hljl-sc'>:cohesion</span><span class='hljl-p'>)</span><span class='hljl-t'>
        </span><span class='hljl-p'>)</span>
</pre>



<table class="data-frame"><thead><tr><th></th><th>team_id</th><th>mean_cohesion</th><th>sd_cohesion</th></tr><tr><th></th><th>String</th><th>Float64</th><th>Float64</th></tr></thead><tbody><p>2 rows × 3 columns</p><tr><th>1</th><td>team_a</td><td>4.5</td><td>2.12132</td></tr><tr><th>2</th><td>team_b</td><td>7.5</td><td>0.707107</td></tr></tbody></table>

<p>Keep in mind that missingness in <code>julia</code> should be labeled with <code>missing</code>, not <code>NaN</code>.</p>
<h2>Merging</h2>
<p>Take data stored in a separate data set &#40;<code>team_cohesion</code>&#41; and merge it with the larger, full data &#40;<code>full_data</code>&#41;.</p>
<p>Left join retains only rows in the first df. For example, if &quot;team_cohesion&quot; had data on team 4 then it would not be included in the join that I show here.</p>
<p>The key is specified with the <code>on</code> command.</p>


<pre class='hljl'>
<span class='hljl-n'>full_data</span><span class='hljl-t'> </span><span class='hljl-oB'>=</span><span class='hljl-t'> </span><span class='hljl-nf'>DataFrame</span><span class='hljl-p'>(</span><span class='hljl-t'>
    </span><span class='hljl-n'>team_id</span><span class='hljl-t'> </span><span class='hljl-oB'>=</span><span class='hljl-t'> </span><span class='hljl-p'>[</span><span class='hljl-s'>&quot;team_1&quot;</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-s'>&quot;team_2&quot;</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-s'>&quot;team_3&quot;</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-s'>&quot;team_1&quot;</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-s'>&quot;team_2&quot;</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-s'>&quot;team_3&quot;</span><span class='hljl-p'>],</span><span class='hljl-t'>
    </span><span class='hljl-n'>person_id</span><span class='hljl-t'> </span><span class='hljl-oB'>=</span><span class='hljl-t'> </span><span class='hljl-p'>[</span><span class='hljl-ni'>1</span><span class='hljl-p'>,</span><span class='hljl-ni'>2</span><span class='hljl-p'>,</span><span class='hljl-ni'>3</span><span class='hljl-p'>,</span><span class='hljl-ni'>4</span><span class='hljl-p'>,</span><span class='hljl-ni'>5</span><span class='hljl-p'>,</span><span class='hljl-ni'>6</span><span class='hljl-p'>],</span><span class='hljl-t'>
    </span><span class='hljl-n'>openness</span><span class='hljl-t'> </span><span class='hljl-oB'>=</span><span class='hljl-t'> </span><span class='hljl-p'>[</span><span class='hljl-ni'>6</span><span class='hljl-p'>,</span><span class='hljl-ni'>7</span><span class='hljl-p'>,</span><span class='hljl-ni'>8</span><span class='hljl-p'>,</span><span class='hljl-ni'>5</span><span class='hljl-p'>,</span><span class='hljl-ni'>6</span><span class='hljl-p'>,</span><span class='hljl-ni'>7</span><span class='hljl-p'>]</span><span class='hljl-t'>
</span><span class='hljl-p'>)</span><span class='hljl-t'>

</span><span class='hljl-nd'>@pt</span><span class='hljl-t'> </span><span class='hljl-n'>full_data</span>
</pre>


<pre class="output">
┌─────────┬───────────┬──────────┐
│ team_id │ person_id │ openness │
│  String │     Int64 │    Int64 │
├─────────┼───────────┼──────────┤
│  team_1 │         1 │        6 │
│  team_2 │         2 │        7 │
│  team_3 │         3 │        8 │
│  team_1 │         4 │        5 │
│  team_2 │         5 │        6 │
│  team_3 │         6 │        7 │
└─────────┴───────────┴──────────┘
</pre>



<pre class='hljl'>
<span class='hljl-n'>team_cohesion</span><span class='hljl-t'> </span><span class='hljl-oB'>=</span><span class='hljl-t'> </span><span class='hljl-nf'>DataFrame</span><span class='hljl-p'>(</span><span class='hljl-t'>
    </span><span class='hljl-n'>team_id</span><span class='hljl-t'> </span><span class='hljl-oB'>=</span><span class='hljl-t'> </span><span class='hljl-p'>[</span><span class='hljl-s'>&quot;team_1&quot;</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-s'>&quot;team_2&quot;</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-s'>&quot;team_3&quot;</span><span class='hljl-p'>],</span><span class='hljl-t'>
    </span><span class='hljl-n'>team_cohesion</span><span class='hljl-t'> </span><span class='hljl-oB'>=</span><span class='hljl-t'> </span><span class='hljl-p'>[</span><span class='hljl-ni'>30</span><span class='hljl-p'>,</span><span class='hljl-ni'>20</span><span class='hljl-p'>,</span><span class='hljl-ni'>10</span><span class='hljl-p'>]</span><span class='hljl-t'>

</span><span class='hljl-p'>)</span><span class='hljl-t'>

</span><span class='hljl-nd'>@pt</span><span class='hljl-t'> </span><span class='hljl-n'>team_cohesion</span>
</pre>


<pre class="output">
┌─────────┬───────────────┐
│ team_id │ team_cohesion │
│  String │         Int64 │
├─────────┼───────────────┤
│  team_1 │            30 │
│  team_2 │            20 │
│  team_3 │            10 │
└─────────┴───────────────┘
</pre>



<pre class='hljl'>
<span class='hljl-n'>full_df</span><span class='hljl-t'> </span><span class='hljl-oB'>=</span><span class='hljl-t'> </span><span class='hljl-nf'>join</span><span class='hljl-p'>(</span><span class='hljl-n'>full_data</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-n'>team_cohesion</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-n'>on</span><span class='hljl-t'> </span><span class='hljl-oB'>=</span><span class='hljl-t'> </span><span class='hljl-sc'>:team_id</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-n'>kind</span><span class='hljl-t'> </span><span class='hljl-oB'>=</span><span class='hljl-t'> </span><span class='hljl-sc'>:left</span><span class='hljl-p'>)</span><span class='hljl-t'>

</span><span class='hljl-nd'>@pt</span><span class='hljl-t'> </span><span class='hljl-n'>full_df</span>
</pre>


<pre class="output">
┌─────────┬───────────┬──────────┬───────────────────────┐
│ team_id │ person_id │ openness │         team_cohesion │
│  String │     Int64 │    Int64 │ Union&#123;Missing, Int64&#125; │
├─────────┼───────────┼──────────┼───────────────────────┤
│  team_1 │         1 │        6 │                    30 │
│  team_2 │         2 │        7 │                    20 │
│  team_3 │         3 │        8 │                    10 │
│  team_1 │         4 │        5 │                    30 │
│  team_2 │         5 │        6 │                    20 │
│  team_3 │         6 │        7 │                    10 │
└─────────┴───────────┴──────────┴───────────────────────┘
</pre>


<h2>Wide &amp; Long</h2>
<p>Take data in long form and make it wide. Doing so in <code>julia</code> is more cumbersome than the <code>reshape</code> command in R, especially if the goal of creating wide data is to run structural equations models.</p>


<pre class='hljl'>
<span class='hljl-cs'># a long df</span><span class='hljl-t'>


</span><span class='hljl-n'>long_df</span><span class='hljl-t'> </span><span class='hljl-oB'>=</span><span class='hljl-t'> </span><span class='hljl-nf'>DataFrame</span><span class='hljl-p'>(</span><span class='hljl-t'>
    </span><span class='hljl-n'>person_id</span><span class='hljl-t'> </span><span class='hljl-oB'>=</span><span class='hljl-t'> </span><span class='hljl-p'>[</span><span class='hljl-ni'>1</span><span class='hljl-p'>,</span><span class='hljl-ni'>1</span><span class='hljl-p'>,</span><span class='hljl-ni'>1</span><span class='hljl-p'>,</span><span class='hljl-t'>
                 </span><span class='hljl-ni'>2</span><span class='hljl-p'>,</span><span class='hljl-ni'>2</span><span class='hljl-p'>,</span><span class='hljl-ni'>2</span><span class='hljl-p'>,</span><span class='hljl-t'>
                 </span><span class='hljl-ni'>3</span><span class='hljl-p'>,</span><span class='hljl-ni'>3</span><span class='hljl-p'>,</span><span class='hljl-ni'>3</span><span class='hljl-p'>,</span><span class='hljl-t'>
                 </span><span class='hljl-ni'>4</span><span class='hljl-p'>,</span><span class='hljl-ni'>4</span><span class='hljl-p'>,</span><span class='hljl-ni'>4</span><span class='hljl-p'>],</span><span class='hljl-t'>
    </span><span class='hljl-n'>time</span><span class='hljl-t'> </span><span class='hljl-oB'>=</span><span class='hljl-t'> </span><span class='hljl-p'>[</span><span class='hljl-ni'>1</span><span class='hljl-p'>,</span><span class='hljl-ni'>2</span><span class='hljl-p'>,</span><span class='hljl-ni'>3</span><span class='hljl-p'>,</span><span class='hljl-t'>
            </span><span class='hljl-ni'>1</span><span class='hljl-p'>,</span><span class='hljl-ni'>2</span><span class='hljl-p'>,</span><span class='hljl-ni'>3</span><span class='hljl-p'>,</span><span class='hljl-t'>
            </span><span class='hljl-ni'>1</span><span class='hljl-p'>,</span><span class='hljl-ni'>2</span><span class='hljl-p'>,</span><span class='hljl-ni'>3</span><span class='hljl-p'>,</span><span class='hljl-t'>
            </span><span class='hljl-ni'>1</span><span class='hljl-p'>,</span><span class='hljl-ni'>2</span><span class='hljl-p'>,</span><span class='hljl-ni'>3</span><span class='hljl-p'>],</span><span class='hljl-t'>
    </span><span class='hljl-n'>affect</span><span class='hljl-t'> </span><span class='hljl-oB'>=</span><span class='hljl-t'> </span><span class='hljl-p'>[</span><span class='hljl-ni'>2</span><span class='hljl-p'>,</span><span class='hljl-ni'>3</span><span class='hljl-p'>,</span><span class='hljl-ni'>1</span><span class='hljl-p'>,</span><span class='hljl-t'>
              </span><span class='hljl-ni'>2</span><span class='hljl-p'>,</span><span class='hljl-ni'>2</span><span class='hljl-p'>,</span><span class='hljl-ni'>2</span><span class='hljl-p'>,</span><span class='hljl-t'>
              </span><span class='hljl-ni'>1</span><span class='hljl-p'>,</span><span class='hljl-ni'>3</span><span class='hljl-p'>,</span><span class='hljl-ni'>1</span><span class='hljl-p'>,</span><span class='hljl-t'>
              </span><span class='hljl-ni'>1</span><span class='hljl-p'>,</span><span class='hljl-ni'>2</span><span class='hljl-p'>,</span><span class='hljl-ni'>3</span><span class='hljl-p'>],</span><span class='hljl-t'>
    </span><span class='hljl-n'>esteem</span><span class='hljl-t'> </span><span class='hljl-oB'>=</span><span class='hljl-t'> </span><span class='hljl-p'>[</span><span class='hljl-ni'>5</span><span class='hljl-p'>,</span><span class='hljl-ni'>6</span><span class='hljl-p'>,</span><span class='hljl-ni'>7</span><span class='hljl-p'>,</span><span class='hljl-t'>
              </span><span class='hljl-ni'>6</span><span class='hljl-p'>,</span><span class='hljl-ni'>6</span><span class='hljl-p'>,</span><span class='hljl-ni'>6</span><span class='hljl-p'>,</span><span class='hljl-t'>
              </span><span class='hljl-ni'>3</span><span class='hljl-p'>,</span><span class='hljl-ni'>4</span><span class='hljl-p'>,</span><span class='hljl-ni'>5</span><span class='hljl-p'>,</span><span class='hljl-t'>
              </span><span class='hljl-ni'>4</span><span class='hljl-p'>,</span><span class='hljl-ni'>8</span><span class='hljl-p'>,</span><span class='hljl-ni'>9</span><span class='hljl-p'>],</span><span class='hljl-t'>
    </span><span class='hljl-n'>stable_measure</span><span class='hljl-t'> </span><span class='hljl-oB'>=</span><span class='hljl-t'> </span><span class='hljl-p'>[</span><span class='hljl-ni'>5</span><span class='hljl-p'>,</span><span class='hljl-ni'>5</span><span class='hljl-p'>,</span><span class='hljl-ni'>5</span><span class='hljl-p'>,</span><span class='hljl-t'>
                      </span><span class='hljl-ni'>7</span><span class='hljl-p'>,</span><span class='hljl-ni'>7</span><span class='hljl-p'>,</span><span class='hljl-ni'>7</span><span class='hljl-p'>,</span><span class='hljl-t'>
                      </span><span class='hljl-ni'>3</span><span class='hljl-p'>,</span><span class='hljl-ni'>3</span><span class='hljl-p'>,</span><span class='hljl-ni'>3</span><span class='hljl-p'>,</span><span class='hljl-t'>
                      </span><span class='hljl-ni'>2</span><span class='hljl-p'>,</span><span class='hljl-ni'>2</span><span class='hljl-p'>,</span><span class='hljl-ni'>2</span><span class='hljl-p'>]</span><span class='hljl-t'>
</span><span class='hljl-p'>)</span><span class='hljl-t'>

</span><span class='hljl-nd'>@pt</span><span class='hljl-t'> </span><span class='hljl-n'>long_df</span>
</pre>


<pre class="output">
┌───────────┬───────┬────────┬────────┬────────────────┐
│ person_id │  time │ affect │ esteem │ stable_measure │
│     Int64 │ Int64 │  Int64 │  Int64 │          Int64 │
├───────────┼───────┼────────┼────────┼────────────────┤
│         1 │     1 │      2 │      5 │              5 │
│         1 │     2 │      3 │      6 │              5 │
│         1 │     3 │      1 │      7 │              5 │
│         2 │     1 │      2 │      6 │              7 │
│         2 │     2 │      2 │      6 │              7 │
│         2 │     3 │      2 │      6 │              7 │
│         3 │     1 │      1 │      3 │              3 │
│         3 │     2 │      3 │      4 │              3 │
│         3 │     3 │      1 │      5 │              3 │
│         4 │     1 │      1 │      4 │              2 │
│         4 │     2 │      2 │      8 │              2 │
│         4 │     3 │      3 │      9 │              2 │
└───────────┴───────┴────────┴────────┴────────────────┘
</pre>



<pre class='hljl'>
<span class='hljl-cs'># create wide data with esteem as the &quot;widen&quot; variable</span><span class='hljl-t'>

</span><span class='hljl-nf'>print</span><span class='hljl-p'>(</span><span class='hljl-t'>

</span><span class='hljl-nf'>unstack</span><span class='hljl-p'>(</span><span class='hljl-n'>long_df</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-sc'>:person_id</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-sc'>:time</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-sc'>:esteem</span><span class='hljl-p'>)</span><span class='hljl-t'>

</span><span class='hljl-p'>)</span>
</pre>


<pre class="output">
4×4 DataFrames.DataFrame
│ Row │ person_id │ 1      │ 2      │ 3      │
│     │ Int64     │ Int64⍰ │ Int64⍰ │ Int64⍰ │
├─────┼───────────┼────────┼────────┼────────┤
│ 1   │ 1         │ 5      │ 6      │ 7      │
│ 2   │ 2         │ 6      │ 6      │ 6      │
│ 3   │ 3         │ 3      │ 4      │ 5      │
│ 4   │ 4         │ 4      │ 8      │ 9      │
</pre>



<pre class='hljl'>
<span class='hljl-cs'># create wide data with affect as the &quot;widen&quot; variable</span><span class='hljl-t'>

</span><span class='hljl-nf'>print</span><span class='hljl-p'>(</span><span class='hljl-t'>

</span><span class='hljl-nf'>unstack</span><span class='hljl-p'>(</span><span class='hljl-n'>long_df</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-sc'>:person_id</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-sc'>:time</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-sc'>:affect</span><span class='hljl-p'>)</span><span class='hljl-t'>

</span><span class='hljl-p'>)</span>
</pre>


<pre class="output">
4×4 DataFrames.DataFrame
│ Row │ person_id │ 1      │ 2      │ 3      │
│     │ Int64     │ Int64⍰ │ Int64⍰ │ Int64⍰ │
├─────┼───────────┼────────┼────────┼────────┤
│ 1   │ 1         │ 2      │ 3      │ 1      │
│ 2   │ 2         │ 2      │ 2      │ 2      │
│ 3   │ 3         │ 1      │ 3      │ 1      │
│ 4   │ 4         │ 1      │ 2      │ 3      │
</pre>


<p>So, there are two issues with reshaping in <code>julia</code>. First, I can&#39;t make affect and esteem the wide variables simultaneously.</p>
<p>Second, the names of the columns become integers such as 1, 2, 3 and so they need to be relabeled.</p>
<p>Here is how I would prepare the data for SEM.</p>


<pre class='hljl'>
<span class='hljl-n'>wide_affect</span><span class='hljl-t'> </span><span class='hljl-oB'>=</span><span class='hljl-t'> </span><span class='hljl-nf'>unstack</span><span class='hljl-p'>(</span><span class='hljl-n'>long_df</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-p'>[</span><span class='hljl-sc'>:person_id</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-sc'>:stable_measure</span><span class='hljl-p'>],</span><span class='hljl-t'> </span><span class='hljl-sc'>:time</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-sc'>:affect</span><span class='hljl-p'>)</span><span class='hljl-t'>
</span><span class='hljl-nf'>rename!</span><span class='hljl-p'>(</span><span class='hljl-n'>wide_affect</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-s'>&quot;1&quot;</span><span class='hljl-t'> </span><span class='hljl-oB'>=&gt;</span><span class='hljl-t'> </span><span class='hljl-s'>&quot;affect1&quot;</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-s'>&quot;2&quot;</span><span class='hljl-t'> </span><span class='hljl-oB'>=&gt;</span><span class='hljl-t'> </span><span class='hljl-s'>&quot;affect2&quot;</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-s'>&quot;3&quot;</span><span class='hljl-t'> </span><span class='hljl-oB'>=&gt;</span><span class='hljl-t'> </span><span class='hljl-s'>&quot;affect3&quot;</span><span class='hljl-p'>)</span><span class='hljl-t'>

</span><span class='hljl-n'>wide_esteem</span><span class='hljl-t'> </span><span class='hljl-oB'>=</span><span class='hljl-t'> </span><span class='hljl-nf'>unstack</span><span class='hljl-p'>(</span><span class='hljl-n'>long_df</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-p'>[</span><span class='hljl-sc'>:person_id</span><span class='hljl-p'>],</span><span class='hljl-t'> </span><span class='hljl-sc'>:time</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-sc'>:esteem</span><span class='hljl-p'>)</span><span class='hljl-t'>
</span><span class='hljl-nf'>rename!</span><span class='hljl-p'>(</span><span class='hljl-n'>wide_esteem</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-s'>&quot;1&quot;</span><span class='hljl-t'> </span><span class='hljl-oB'>=&gt;</span><span class='hljl-t'> </span><span class='hljl-s'>&quot;esteem1&quot;</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-s'>&quot;2&quot;</span><span class='hljl-t'> </span><span class='hljl-oB'>=&gt;</span><span class='hljl-t'> </span><span class='hljl-s'>&quot;esteem2&quot;</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-s'>&quot;3&quot;</span><span class='hljl-t'> </span><span class='hljl-oB'>=&gt;</span><span class='hljl-t'> </span><span class='hljl-s'>&quot;esteem3&quot;</span><span class='hljl-p'>)</span><span class='hljl-t'>

</span><span class='hljl-n'>wide_df</span><span class='hljl-t'> </span><span class='hljl-oB'>=</span><span class='hljl-t'> </span><span class='hljl-nf'>join</span><span class='hljl-p'>(</span><span class='hljl-n'>wide_affect</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-n'>wide_esteem</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-n'>on</span><span class='hljl-t'> </span><span class='hljl-oB'>=</span><span class='hljl-t'> </span><span class='hljl-sc'>:person_id</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-n'>kind</span><span class='hljl-t'> </span><span class='hljl-oB'>=</span><span class='hljl-t'> </span><span class='hljl-sc'>:left</span><span class='hljl-p'>)</span>
</pre>



<table class="data-frame"><thead><tr><th></th><th>person_id</th><th>stable_measure</th><th>affect1</th><th>affect2</th><th>affect3</th><th>esteem1</th><th>esteem2</th><th>esteem3</th></tr><tr><th></th><th>Int64</th><th>Int64</th><th>Int64⍰</th><th>Int64⍰</th><th>Int64⍰</th><th>Int64⍰</th><th>Int64⍰</th><th>Int64⍰</th></tr></thead><tbody><p>4 rows × 8 columns</p><tr><th>1</th><td>1</td><td>5</td><td>2</td><td>3</td><td>1</td><td>5</td><td>6</td><td>7</td></tr><tr><th>2</th><td>2</td><td>7</td><td>2</td><td>2</td><td>2</td><td>6</td><td>6</td><td>6</td></tr><tr><th>3</th><td>3</td><td>3</td><td>1</td><td>3</td><td>1</td><td>3</td><td>4</td><td>5</td></tr><tr><th>4</th><td>4</td><td>2</td><td>1</td><td>2</td><td>3</td><td>4</td><td>8</td><td>9</td></tr></tbody></table>

<p>Disclaimer. I&#39;m not saying that <code>julia</code> is incapable of unstacking multiple variables or that there is not a workaround &#40;I just demonstrated one&#41;.</p>
<p>I&#39;m simply saying that the <code>reshape</code> command in R is currently more user-friendly for SEM.</p>
<p>What about wide to long?</p>


<pre class='hljl'>
<span class='hljl-n'>long_affect</span><span class='hljl-t'> </span><span class='hljl-oB'>=</span><span class='hljl-t'> </span><span class='hljl-nf'>stack</span><span class='hljl-p'>(</span><span class='hljl-n'>wide_affect</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-p'>[</span><span class='hljl-sc'>:affect1</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-sc'>:affect2</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-sc'>:affect3</span><span class='hljl-p'>])</span>
</pre>



<table class="data-frame"><thead><tr><th></th><th>variable</th><th>value</th><th>person_id</th><th>stable_measure</th></tr><tr><th></th><th>Symbol</th><th>Int64⍰</th><th>Int64</th><th>Int64</th></tr></thead><tbody><p>12 rows × 4 columns</p><tr><th>1</th><td>affect1</td><td>2</td><td>1</td><td>5</td></tr><tr><th>2</th><td>affect1</td><td>2</td><td>2</td><td>7</td></tr><tr><th>3</th><td>affect1</td><td>1</td><td>3</td><td>3</td></tr><tr><th>4</th><td>affect1</td><td>1</td><td>4</td><td>2</td></tr><tr><th>5</th><td>affect2</td><td>3</td><td>1</td><td>5</td></tr><tr><th>6</th><td>affect2</td><td>2</td><td>2</td><td>7</td></tr><tr><th>7</th><td>affect2</td><td>3</td><td>3</td><td>3</td></tr><tr><th>8</th><td>affect2</td><td>2</td><td>4</td><td>2</td></tr><tr><th>9</th><td>affect3</td><td>1</td><td>1</td><td>5</td></tr><tr><th>10</th><td>affect3</td><td>2</td><td>2</td><td>7</td></tr><tr><th>11</th><td>affect3</td><td>1</td><td>3</td><td>3</td></tr><tr><th>12</th><td>affect3</td><td>3</td><td>4</td><td>2</td></tr></tbody></table>

<h2>Input &amp; Output</h2>
<p>Identify directory and adjust.</p>



<pre class='hljl'>
<span class='hljl-cs'># current directory</span><span class='hljl-t'>

</span><span class='hljl-nf'>pwd</span><span class='hljl-p'>()</span><span class='hljl-t'>

</span><span class='hljl-cs'># change directory</span><span class='hljl-t'>

</span><span class='hljl-nf'>cd</span><span class='hljl-p'>(</span><span class='hljl-s'>&quot;&quot;</span><span class='hljl-p'>)</span><span class='hljl-t'>

</span><span class='hljl-cs'># change directory to wherever the opened file is located</span><span class='hljl-t'>

</span><span class='hljl-nf'>cd</span><span class='hljl-p'>(</span><span class='hljl-nf'>dirname</span><span class='hljl-p'>(</span><span class='hljl-nd'>@__FILE__</span><span class='hljl-p'>))</span><span class='hljl-t'>

</span><span class='hljl-cs'># move up a level</span><span class='hljl-t'>

</span><span class='hljl-nf'>cd</span><span class='hljl-p'>(</span><span class='hljl-s'>&quot;../data&quot;</span><span class='hljl-p'>)</span><span class='hljl-t'>

</span><span class='hljl-cs'># if you know the file name but not the directory</span><span class='hljl-t'>

</span><span class='hljl-n'>filename</span><span class='hljl-t'> </span><span class='hljl-oB'>=</span><span class='hljl-t'> </span><span class='hljl-s'>&quot;whatever_name.csv&quot;</span><span class='hljl-t'>
</span><span class='hljl-n'>filepath</span><span class='hljl-t'> </span><span class='hljl-oB'>=</span><span class='hljl-t'> </span><span class='hljl-nf'>joinpath</span><span class='hljl-p'>(</span><span class='hljl-nd'>@__DIR__</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-n'>filename</span><span class='hljl-p'>)</span><span class='hljl-t'>
</span><span class='hljl-nf'>println</span><span class='hljl-p'>(</span><span class='hljl-n'>filepath</span><span class='hljl-p'>)</span>
</pre>


<p>Working with csv files, either with <code>CSV.jl</code> or <code>CSVFiles.jl</code>.</p>



<pre class='hljl'>
<span class='hljl-cs'># read csv</span><span class='hljl-t'>

</span><span class='hljl-n'>df</span><span class='hljl-t'> </span><span class='hljl-oB'>=</span><span class='hljl-t'> </span><span class='hljl-n'>CSV</span><span class='hljl-oB'>.</span><span class='hljl-nf'>File</span><span class='hljl-p'>(</span><span class='hljl-n'>file</span><span class='hljl-p'>)</span><span class='hljl-t'> </span><span class='hljl-oB'>|&gt;</span><span class='hljl-t'> </span><span class='hljl-n'>DataFrame!</span><span class='hljl-t'>

</span><span class='hljl-cs'># if the file contains data with no header</span><span class='hljl-t'>

</span><span class='hljl-n'>CSV</span><span class='hljl-oB'>.</span><span class='hljl-nf'>File</span><span class='hljl-p'>(</span><span class='hljl-n'>file</span><span class='hljl-p'>;</span><span class='hljl-t'> </span><span class='hljl-n'>header</span><span class='hljl-t'> </span><span class='hljl-oB'>=</span><span class='hljl-t'> </span><span class='hljl-kc'>false</span><span class='hljl-p'>)</span><span class='hljl-t'>

</span><span class='hljl-cs'># or to incorporate your own column names</span><span class='hljl-t'>

</span><span class='hljl-n'>CSV</span><span class='hljl-oB'>.</span><span class='hljl-nf'>File</span><span class='hljl-p'>(</span><span class='hljl-n'>file</span><span class='hljl-p'>;</span><span class='hljl-t'> </span><span class='hljl-n'>header</span><span class='hljl-t'> </span><span class='hljl-oB'>=</span><span class='hljl-t'> </span><span class='hljl-p'>[</span><span class='hljl-s'>&quot;col1&quot;</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-s'>&quot;col2&quot;</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-s'>&quot;col3&quot;</span><span class='hljl-p'>])</span><span class='hljl-t'>

</span><span class='hljl-cs'># if the csv has spaces in the header names</span><span class='hljl-t'>
</span><span class='hljl-cs'># e.g., column names like &quot;column one&quot; will become &quot;column_one&quot;</span><span class='hljl-t'>

</span><span class='hljl-n'>CSV</span><span class='hljl-oB'>.</span><span class='hljl-nf'>File</span><span class='hljl-p'>(</span><span class='hljl-n'>file</span><span class='hljl-p'>;</span><span class='hljl-t'> </span><span class='hljl-n'>normalizenames</span><span class='hljl-oB'>=</span><span class='hljl-kc'>true</span><span class='hljl-p'>)</span><span class='hljl-t'>

</span><span class='hljl-cs'># if the csv has meta data within the first few rows that needs to be skipped</span><span class='hljl-t'>

</span><span class='hljl-n'>CSV</span><span class='hljl-oB'>.</span><span class='hljl-nf'>File</span><span class='hljl-p'>(</span><span class='hljl-n'>file</span><span class='hljl-p'>;</span><span class='hljl-t'> </span><span class='hljl-n'>datarow</span><span class='hljl-t'> </span><span class='hljl-oB'>=</span><span class='hljl-t'> </span><span class='hljl-ni'>4</span><span class='hljl-p'>)</span><span class='hljl-t'>

</span><span class='hljl-cs'># if something like NA or 999 indicate missingness in csv</span><span class='hljl-t'>

</span><span class='hljl-n'>CSV</span><span class='hljl-oB'>.</span><span class='hljl-nf'>File</span><span class='hljl-p'>(</span><span class='hljl-n'>file</span><span class='hljl-p'>;</span><span class='hljl-t'> </span><span class='hljl-n'>missingstrings</span><span class='hljl-oB'>=</span><span class='hljl-p'>[</span><span class='hljl-s'>&quot;999&quot;</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-s'>&quot;NA&quot;</span><span class='hljl-p'>])</span><span class='hljl-t'>

</span><span class='hljl-cs'># identify column types</span><span class='hljl-t'>

</span><span class='hljl-n'>CSV</span><span class='hljl-oB'>.</span><span class='hljl-nf'>File</span><span class='hljl-p'>(</span><span class='hljl-n'>file</span><span class='hljl-p'>;</span><span class='hljl-t'> </span><span class='hljl-n'>types</span><span class='hljl-t'> </span><span class='hljl-oB'>=</span><span class='hljl-p'>[</span><span class='hljl-n'>Int</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-n'>Int</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-n'>String</span><span class='hljl-p'>])</span><span class='hljl-t'>


</span><span class='hljl-cs'># the csv package has many of the same commands</span><span class='hljl-t'>
</span><span class='hljl-cs'>## append two csvs</span><span class='hljl-t'>

</span><span class='hljl-n'>df</span><span class='hljl-t'> </span><span class='hljl-oB'>=</span><span class='hljl-t'> </span><span class='hljl-n'>CSV</span><span class='hljl-oB'>.</span><span class='hljl-nf'>read</span><span class='hljl-p'>(</span><span class='hljl-n'>file</span><span class='hljl-p'>)</span><span class='hljl-t'>
</span><span class='hljl-n'>df</span><span class='hljl-t'> </span><span class='hljl-oB'>=</span><span class='hljl-t'> </span><span class='hljl-n'>CSV</span><span class='hljl-oB'>.</span><span class='hljl-nf'>read</span><span class='hljl-p'>(</span><span class='hljl-n'>file2</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-n'>df</span><span class='hljl-p'>;</span><span class='hljl-t'> </span><span class='hljl-n'>apppend</span><span class='hljl-oB'>=</span><span class='hljl-kc'>true</span><span class='hljl-p'>)</span><span class='hljl-t'>


</span><span class='hljl-cs'># write csvs</span><span class='hljl-t'>
</span><span class='hljl-cs'>## specify that missing values should be &quot;NA&quot;</span><span class='hljl-t'>

</span><span class='hljl-n'>CSV</span><span class='hljl-oB'>.</span><span class='hljl-nf'>write</span><span class='hljl-p'>(</span><span class='hljl-s'>&quot;out.csv&quot;</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-n'>df</span><span class='hljl-p'>;</span><span class='hljl-t'> </span><span class='hljl-n'>null</span><span class='hljl-t'> </span><span class='hljl-oB'>=</span><span class='hljl-t'> </span><span class='hljl-s'>&quot;NA&quot;</span><span class='hljl-p'>)</span>
</pre>


<p>Identify all files within a folder.</p>



<pre class='hljl'>
<span class='hljl-nf'>readdir</span><span class='hljl-p'>([</span><span class='hljl-n'>path</span><span class='hljl-p'>])</span>
</pre>


<h2>RCall</h2>
<p>Run R code within <code>julia</code>. I don&#39;t evaluate these commands to save space.</p>



<pre class='hljl'>
<span class='hljl-cs'># run R code</span><span class='hljl-t'>

</span><span class='hljl-so'>R&quot;&quot;&quot;

library(ggplot2)
ggplot($df, aes(x = time, y = y)) +
	geom_point()


library(actuar)
total &lt;- 4 + 9
power_law &lt;- rpareto(1,2,3

&quot;&quot;&quot;</span><span class='hljl-t'>

</span><span class='hljl-cs'># pull objects from r environment to julia environment</span><span class='hljl-t'>

</span><span class='hljl-nd'>@rget</span><span class='hljl-t'> </span><span class='hljl-n'>total</span><span class='hljl-t'>
</span><span class='hljl-nd'>@rget</span><span class='hljl-t'> </span><span class='hljl-n'>power_law</span><span class='hljl-t'>

</span><span class='hljl-cs'># put objects from julia environment into r environment</span><span class='hljl-t'>

</span><span class='hljl-n'>jul_variable</span><span class='hljl-t'> </span><span class='hljl-oB'>=</span><span class='hljl-t'> </span><span class='hljl-ni'>4</span><span class='hljl-t'>

</span><span class='hljl-nd'>@rput</span><span class='hljl-t'> </span><span class='hljl-n'>jul_variables</span><span class='hljl-t'>

</span><span class='hljl-so'>R&quot;&quot;&quot;
new_in_r &lt;- jul_variable + 10
&quot;&quot;&quot;</span><span class='hljl-t'>

</span><span class='hljl-nd'>@rget</span><span class='hljl-t'> </span><span class='hljl-n'>new_in_r</span>
</pre>


<h2>Packages</h2>
<p>Add packages. In terminal, press <code>&#93;</code> and then type <code>add</code> <code>package_name</code>. Do not include <code>.jl</code> after the package name.</p>
<p>In a script, do below.</p>



<pre class='hljl'>
<span class='hljl-n'>Pkg</span><span class='hljl-oB'>.</span><span class='hljl-nf'>Add</span><span class='hljl-p'>(</span><span class='hljl-s'>&quot;RCall&quot;</span><span class='hljl-p'>)</span><span class='hljl-t'>

</span><span class='hljl-cs'># from github</span><span class='hljl-t'>

</span><span class='hljl-n'>Pkg</span><span class='hljl-oB'>.</span><span class='hljl-nf'>cone</span><span class='hljl-p'>(</span><span class='hljl-s'>&quot;https://github.com/JuliaDiffEq/ParameterizedFunctions.jl&quot;</span><span class='hljl-p'>)</span>
</pre>


<h2>Vectors &amp; Sampling</h2>
<p>Create vectors and arrays.</p>


<pre class='hljl'>
<span class='hljl-cs'># vector of length n with all zeros</span><span class='hljl-t'>

</span><span class='hljl-n'>n</span><span class='hljl-oB'>=</span><span class='hljl-ni'>10</span><span class='hljl-t'>
</span><span class='hljl-n'>result_store</span><span class='hljl-t'> </span><span class='hljl-oB'>=</span><span class='hljl-t'> </span><span class='hljl-nf'>zeros</span><span class='hljl-p'>(</span><span class='hljl-n'>n</span><span class='hljl-p'>)</span><span class='hljl-t'>

</span><span class='hljl-cs'># undefined vector of length n</span><span class='hljl-t'>

</span><span class='hljl-nf'>Vector</span><span class='hljl-p'>(</span><span class='hljl-n'>undef</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-n'>n</span><span class='hljl-p'>)</span><span class='hljl-t'>

</span><span class='hljl-cs'># array from 0 to 100 in steps of 10</span><span class='hljl-t'>

</span><span class='hljl-nf'>print</span><span class='hljl-p'>(</span><span class='hljl-t'>
</span><span class='hljl-nf'>collect</span><span class='hljl-p'>(</span><span class='hljl-ni'>0</span><span class='hljl-oB'>:</span><span class='hljl-ni'>10</span><span class='hljl-oB'>:</span><span class='hljl-ni'>100</span><span class='hljl-p'>)</span><span class='hljl-t'>
</span><span class='hljl-p'>)</span>
</pre>


<pre class="output">
&#91;0, 10, 20, 30, 40, 50, 60, 70, 80, 90, 100&#93;
</pre>



<pre class='hljl'>
<span class='hljl-cs'># array from 4 to 1 decreasing by 1</span><span class='hljl-t'>

</span><span class='hljl-nf'>print</span><span class='hljl-p'>(</span><span class='hljl-t'>
</span><span class='hljl-nf'>collect</span><span class='hljl-p'>(</span><span class='hljl-ni'>4</span><span class='hljl-oB'>:-</span><span class='hljl-ni'>1</span><span class='hljl-oB'>:</span><span class='hljl-ni'>1</span><span class='hljl-p'>)</span><span class='hljl-t'>
</span><span class='hljl-p'>)</span>
</pre>


<pre class="output">
&#91;4, 3, 2, 1&#93;
</pre>



<pre class='hljl'>
<span class='hljl-cs'># array from 1 to 100 with 12 steps</span><span class='hljl-t'>

</span><span class='hljl-nf'>print</span><span class='hljl-p'>(</span><span class='hljl-t'>
</span><span class='hljl-nf'>collect</span><span class='hljl-p'>(</span><span class='hljl-nf'>range</span><span class='hljl-p'>(</span><span class='hljl-ni'>1</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-n'>stop</span><span class='hljl-t'> </span><span class='hljl-oB'>=</span><span class='hljl-t'> </span><span class='hljl-ni'>100</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-n'>length</span><span class='hljl-t'> </span><span class='hljl-oB'>=</span><span class='hljl-t'> </span><span class='hljl-ni'>12</span><span class='hljl-p'>))</span><span class='hljl-t'>
</span><span class='hljl-p'>)</span>
</pre>


<pre class="output">
&#91;1.0, 10.0, 19.0, 28.0, 37.0, 46.0, 55.0, 64.0, 73.0, 82.0, 91.0, 100.0&#93;
</pre>



<pre class='hljl'>
<span class='hljl-cs'># start at 1, add 3, do that 20 times or for 20 steps</span><span class='hljl-t'>

</span><span class='hljl-nf'>print</span><span class='hljl-p'>(</span><span class='hljl-t'>
</span><span class='hljl-nf'>range</span><span class='hljl-p'>(</span><span class='hljl-ni'>1</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-n'>step</span><span class='hljl-t'> </span><span class='hljl-oB'>=</span><span class='hljl-t'> </span><span class='hljl-ni'>3</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-n'>length</span><span class='hljl-t'> </span><span class='hljl-oB'>=</span><span class='hljl-t'> </span><span class='hljl-ni'>20</span><span class='hljl-p'>)</span><span class='hljl-t'> </span><span class='hljl-oB'>|&gt;</span><span class='hljl-t'> </span><span class='hljl-n'>collect</span><span class='hljl-t'>
</span><span class='hljl-p'>)</span>
</pre>


<pre class="output">
&#91;1, 4, 7, 10, 13, 16, 19, 22, 25, 28, 31, 34, 37, 40, 43, 46, 49, 52, 55, 5
8&#93;
</pre>


<p>Count the number of &quot;trues&quot; in a vector. For this example, refer back to the weather data frame.</p>


<pre class='hljl'>
<span class='hljl-nd'>@pt</span><span class='hljl-t'> </span><span class='hljl-n'>weather_df</span>
</pre>


<pre class="output">
┌───────┬────────┬───────┬─────────┐
│   sun │ clouds │   day │ weather │
│ Int64 │  Int64 │ Int64 │  String │
├───────┼────────┼───────┼─────────┤
│     3 │      8 │     1 │  cloudy │
│     2 │      5 │     2 │  cloudy │
│     1 │      7 │     3 │  cloudy │
│     8 │      2 │     4 │   sunny │
│     9 │      1 │     5 │   sunny │
│     7 │      3 │     6 │   sunny │
└───────┴────────┴───────┴─────────┘
</pre>



<pre class='hljl'>
<span class='hljl-cs'># how many times is it sunny?</span><span class='hljl-t'>

</span><span class='hljl-n'>days_sunny</span><span class='hljl-t'> </span><span class='hljl-oB'>=</span><span class='hljl-t'> </span><span class='hljl-nf'>count</span><span class='hljl-p'>(</span><span class='hljl-n'>i</span><span class='hljl-t'> </span><span class='hljl-oB'>==</span><span class='hljl-t'> </span><span class='hljl-s'>&quot;sunny&quot;</span><span class='hljl-t'> </span><span class='hljl-k'>for</span><span class='hljl-t'> </span><span class='hljl-n'>i</span><span class='hljl-t'> </span><span class='hljl-kp'>in</span><span class='hljl-t'> </span><span class='hljl-n'>weather_df</span><span class='hljl-oB'>.</span><span class='hljl-n'>weather</span><span class='hljl-p'>)</span><span class='hljl-t'>

</span><span class='hljl-nf'>print</span><span class='hljl-p'>(</span><span class='hljl-n'>days_sunny</span><span class='hljl-p'>)</span>
</pre>


<pre class="output">
3
</pre>


<h2>Sampling and Distributions</h2>
<p>Create distributions and pull samples.</p>


<pre class='hljl'>
<span class='hljl-cs'># set seed</span><span class='hljl-t'>

</span><span class='hljl-n'>Random</span><span class='hljl-oB'>.</span><span class='hljl-nf'>seed!</span><span class='hljl-p'>(</span><span class='hljl-ni'>4</span><span class='hljl-p'>)</span><span class='hljl-t'>

</span><span class='hljl-cs'># draw 100 random samples from a normal distribution with mean 1 and sd 2</span><span class='hljl-t'>

</span><span class='hljl-n'>draw_values</span><span class='hljl-t'> </span><span class='hljl-oB'>=</span><span class='hljl-t'> </span><span class='hljl-nf'>rand</span><span class='hljl-p'>(</span><span class='hljl-nf'>Normal</span><span class='hljl-p'>(</span><span class='hljl-ni'>1</span><span class='hljl-p'>,</span><span class='hljl-ni'>2</span><span class='hljl-p'>),</span><span class='hljl-t'> </span><span class='hljl-ni'>100</span><span class='hljl-p'>)</span><span class='hljl-t'>

</span><span class='hljl-cs'># draw a single sample but retain it as an integer rather than an array</span><span class='hljl-t'>

</span><span class='hljl-n'>draw_integer</span><span class='hljl-t'> </span><span class='hljl-oB'>=</span><span class='hljl-t'> </span><span class='hljl-nf'>rand</span><span class='hljl-p'>(</span><span class='hljl-nf'>Normal</span><span class='hljl-p'>(</span><span class='hljl-ni'>1</span><span class='hljl-p'>,</span><span class='hljl-ni'>2</span><span class='hljl-p'>),</span><span class='hljl-t'> </span><span class='hljl-ni'>1</span><span class='hljl-p'>)[</span><span class='hljl-ni'>1</span><span class='hljl-p'>]</span><span class='hljl-t'>

</span><span class='hljl-cs'># estimate parameters of empirical distribution draw_values</span><span class='hljl-t'>

</span><span class='hljl-nf'>fit</span><span class='hljl-p'>(</span><span class='hljl-n'>Normal</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-n'>draw_values</span><span class='hljl-p'>)</span><span class='hljl-t'>

</span><span class='hljl-cs'># for any distribution (see distributions &quot;continuous&quot; documentation</span><span class='hljl-t'>

</span><span class='hljl-cs'>## abstract_distribution = Normal(parameter1, parameter2)</span><span class='hljl-t'>
</span><span class='hljl-cs'>## x = rand(abstract_distribution, 100)</span><span class='hljl-t'>


</span><span class='hljl-cs'># multivariate normal with 2 variables, draw 5 values</span><span class='hljl-t'>

</span><span class='hljl-n'>mu</span><span class='hljl-t'> </span><span class='hljl-oB'>=</span><span class='hljl-t'> </span><span class='hljl-p'>[</span><span class='hljl-nfB'>10.0</span><span class='hljl-p'>;</span><span class='hljl-t'> </span><span class='hljl-nfB'>20.1</span><span class='hljl-p'>]</span><span class='hljl-t'>
</span><span class='hljl-n'>covariance_matrix</span><span class='hljl-t'> </span><span class='hljl-oB'>=</span><span class='hljl-t'> </span><span class='hljl-p'>[</span><span class='hljl-nfB'>2.0</span><span class='hljl-t'> </span><span class='hljl-nfB'>1.2</span><span class='hljl-p'>;</span><span class='hljl-t'> </span><span class='hljl-nfB'>1.2</span><span class='hljl-t'> </span><span class='hljl-nfB'>3.5</span><span class='hljl-p'>]</span><span class='hljl-t'>
</span><span class='hljl-n'>d</span><span class='hljl-t'> </span><span class='hljl-oB'>=</span><span class='hljl-t'> </span><span class='hljl-nf'>MvNormal</span><span class='hljl-p'>(</span><span class='hljl-n'>mu</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-n'>covariance_matrix</span><span class='hljl-p'>)</span><span class='hljl-t'>
</span><span class='hljl-n'>x</span><span class='hljl-t'> </span><span class='hljl-oB'>=</span><span class='hljl-t'> </span><span class='hljl-nf'>rand</span><span class='hljl-p'>(</span><span class='hljl-n'>d</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-ni'>5</span><span class='hljl-p'>)</span><span class='hljl-t'>


</span><span class='hljl-cs'># random number from uniform between 0 and 1</span><span class='hljl-t'>

</span><span class='hljl-nf'>rand</span><span class='hljl-p'>()</span><span class='hljl-t'>

</span><span class='hljl-cs'># 5 random numbers drawn from a uniform betwen 0 and 1</span><span class='hljl-t'>

</span><span class='hljl-nf'>rand</span><span class='hljl-p'>(</span><span class='hljl-ni'>5</span><span class='hljl-p'>)</span><span class='hljl-t'>

</span><span class='hljl-cs'># matrix of random numbers, 4 by 3</span><span class='hljl-t'>

</span><span class='hljl-nf'>rand</span><span class='hljl-p'>(</span><span class='hljl-ni'>4</span><span class='hljl-p'>,</span><span class='hljl-ni'>3</span><span class='hljl-p'>)</span><span class='hljl-t'>

</span><span class='hljl-cs'># random numbers from Uniform[0,100]</span><span class='hljl-t'>

</span><span class='hljl-nf'>rand</span><span class='hljl-p'>()</span><span class='hljl-oB'>*</span><span class='hljl-ni'>100</span><span class='hljl-t'>


</span><span class='hljl-cs'># randomly choose an index within a vector</span><span class='hljl-t'>

</span><span class='hljl-nf'>rand</span><span class='hljl-p'>(</span><span class='hljl-ni'>1</span><span class='hljl-oB'>:</span><span class='hljl-ni'>10</span><span class='hljl-p'>)</span><span class='hljl-t'>

</span><span class='hljl-cs'># 2 random draws from Uniform[3:9]</span><span class='hljl-t'>

</span><span class='hljl-nf'>rand</span><span class='hljl-p'>(</span><span class='hljl-ni'>3</span><span class='hljl-oB'>:</span><span class='hljl-ni'>9</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-ni'>2</span><span class='hljl-p'>)</span>
</pre>


<pre class="output">
2-element Array&#123;Int64,1&#125;:
 3
 3
</pre>


<h2>Miscillaneous</h2>
<p>Read a text file.</p>



<pre class='hljl'>
<span class='hljl-n'>datafilename</span><span class='hljl-t'> </span><span class='hljl-oB'>=</span><span class='hljl-t'> </span><span class='hljl-s'>&quot;data.txt&quot;</span><span class='hljl-t'>
</span><span class='hljl-n'>datafile</span><span class='hljl-t'> </span><span class='hljl-oB'>=</span><span class='hljl-t'> </span><span class='hljl-nf'>open</span><span class='hljl-p'>(</span><span class='hljl-n'>datafilename</span><span class='hljl-p'>)</span><span class='hljl-t'>
</span><span class='hljl-n'>data</span><span class='hljl-t'> </span><span class='hljl-oB'>=</span><span class='hljl-t'> </span><span class='hljl-nf'>readlines</span><span class='hljl-p'>(</span><span class='hljl-n'>datafile</span><span class='hljl-p'>)</span><span class='hljl-t'>
</span><span class='hljl-nf'>close</span><span class='hljl-p'>(</span><span class='hljl-n'>datafile</span><span class='hljl-p'>)</span>
</pre>




          <HR/>
          <div class="footer"><p>
          Published from <a href="wrangling_basics.jmd">wrangling_basics.jmd</a> using
          <a href="http://github.com/mpastell/Weave.jl">Weave.jl</a>
           on 2020-03-17.
          <p></div>


        </div>
      </div>
    </div>
  </BODY>
</HTML>
